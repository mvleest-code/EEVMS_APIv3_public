[
    {
        "label": "requests",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "requests",
        "description": "requests",
        "detail": "requests",
        "documentation": {}
    },
    {
        "label": "os",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "os",
        "description": "os",
        "detail": "os",
        "documentation": {}
    },
    {
        "label": "sounddevice",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "sounddevice",
        "description": "sounddevice",
        "detail": "sounddevice",
        "documentation": {}
    },
    {
        "label": "numpy",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "numpy",
        "description": "numpy",
        "detail": "numpy",
        "documentation": {}
    },
    {
        "label": "audioop",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "audioop",
        "description": "audioop",
        "detail": "audioop",
        "documentation": {}
    },
    {
        "label": "io",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "io",
        "description": "io",
        "detail": "io",
        "documentation": {}
    },
    {
        "label": "json,",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "json.",
        "description": "json.",
        "detail": "json.",
        "documentation": {}
    },
    {
        "label": "Flask",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "request",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "Flask",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "request",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "render_template_string",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "Flask",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "request",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "Flask",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "request",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "Flask",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "render_template",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "request",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "Flask",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "request",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "make_response",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "render_template_string",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "redirect",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "Flask",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "request",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "render_template_string",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "make_response",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "Flask",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "request",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "render_template_string",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "Flask",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "request",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "base64",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "base64",
        "description": "base64",
        "detail": "base64",
        "documentation": {}
    },
    {
        "label": "json",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "json",
        "description": "json",
        "detail": "json",
        "documentation": {}
    },
    {
        "label": "quote",
        "importPath": "urllib.parse",
        "description": "urllib.parse",
        "isExtraImport": true,
        "detail": "urllib.parse",
        "documentation": {}
    },
    {
        "label": "quote",
        "importPath": "urllib.parse",
        "description": "urllib.parse",
        "isExtraImport": true,
        "detail": "urllib.parse",
        "documentation": {}
    },
    {
        "label": "exit",
        "importPath": "sys",
        "description": "sys",
        "isExtraImport": true,
        "detail": "sys",
        "documentation": {}
    },
    {
        "label": "time",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "time",
        "description": "time",
        "detail": "time",
        "documentation": {}
    },
    {
        "label": "subprocess",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "subprocess",
        "description": "subprocess",
        "detail": "subprocess",
        "documentation": {}
    },
    {
        "label": "logging",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "logging",
        "description": "logging",
        "detail": "logging",
        "documentation": {}
    },
    {
        "label": "tqdm",
        "importPath": "tqdm",
        "description": "tqdm",
        "isExtraImport": true,
        "detail": "tqdm",
        "documentation": {}
    },
    {
        "label": "keyboard",
        "importPath": "pynput",
        "description": "pynput",
        "isExtraImport": true,
        "detail": "pynput",
        "documentation": {}
    },
    {
        "label": "threading",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "threading",
        "description": "threading",
        "detail": "threading",
        "documentation": {}
    },
    {
        "label": "access_token",
        "kind": 5,
        "importPath": "audioPushHttps.audiopush",
        "description": "audioPushHttps.audiopush",
        "peekOfCode": "access_token = \"\"\ncameraId = \"\"\nprint(\"sending audio to server...\")\nurl = f'https://media.c001.eagleeyenetworks.com:443/media/streams/audio/{cameraId}/alaw'\nheaders = {\n    'accept': '*/*',\n    'Content-Type': 'multipart/form-data',\n    'authorization': 'Bearer ' + access_token\n    }\n# select filed to be send:",
        "detail": "audioPushHttps.audiopush",
        "documentation": {}
    },
    {
        "label": "cameraId",
        "kind": 5,
        "importPath": "audioPushHttps.audiopush",
        "description": "audioPushHttps.audiopush",
        "peekOfCode": "cameraId = \"\"\nprint(\"sending audio to server...\")\nurl = f'https://media.c001.eagleeyenetworks.com:443/media/streams/audio/{cameraId}/alaw'\nheaders = {\n    'accept': '*/*',\n    'Content-Type': 'multipart/form-data',\n    'authorization': 'Bearer ' + access_token\n    }\n# select filed to be send:\nfiles = {",
        "detail": "audioPushHttps.audiopush",
        "documentation": {}
    },
    {
        "label": "url",
        "kind": 5,
        "importPath": "audioPushHttps.audiopush",
        "description": "audioPushHttps.audiopush",
        "peekOfCode": "url = f'https://media.c001.eagleeyenetworks.com:443/media/streams/audio/{cameraId}/alaw'\nheaders = {\n    'accept': '*/*',\n    'Content-Type': 'multipart/form-data',\n    'authorization': 'Bearer ' + access_token\n    }\n# select filed to be send:\nfiles = {\n    'data': ('rubbertukky.raw', open('rubbertukky.raw', 'rb'), 'audio/wav')\n}",
        "detail": "audioPushHttps.audiopush",
        "documentation": {}
    },
    {
        "label": "headers",
        "kind": 5,
        "importPath": "audioPushHttps.audiopush",
        "description": "audioPushHttps.audiopush",
        "peekOfCode": "headers = {\n    'accept': '*/*',\n    'Content-Type': 'multipart/form-data',\n    'authorization': 'Bearer ' + access_token\n    }\n# select filed to be send:\nfiles = {\n    'data': ('rubbertukky.raw', open('rubbertukky.raw', 'rb'), 'audio/wav')\n}\n# making the actual request:",
        "detail": "audioPushHttps.audiopush",
        "documentation": {}
    },
    {
        "label": "files",
        "kind": 5,
        "importPath": "audioPushHttps.audiopush",
        "description": "audioPushHttps.audiopush",
        "peekOfCode": "files = {\n    'data': ('rubbertukky.raw', open('rubbertukky.raw', 'rb'), 'audio/wav')\n}\n# making the actual request:\nresponse = requests.post(url, headers=headers, files=files)\nprint (\"audio sent successfully\",response.status_code)",
        "detail": "audioPushHttps.audiopush",
        "documentation": {}
    },
    {
        "label": "response",
        "kind": 5,
        "importPath": "audioPushHttps.audiopush",
        "description": "audioPushHttps.audiopush",
        "peekOfCode": "response = requests.post(url, headers=headers, files=files)\nprint (\"audio sent successfully\",response.status_code)",
        "detail": "audioPushHttps.audiopush",
        "documentation": {}
    },
    {
        "label": "clear_terminal",
        "kind": 2,
        "importPath": "audioPushHttps.audiopushmictest",
        "description": "audioPushHttps.audiopushmictest",
        "peekOfCode": "def clear_terminal():\n    \"\"\"\n    Clear the terminal.\n    \"\"\"\n    os.system('cls' if os.name == 'nt' else 'clear')\ndef record_audio(duration, fs=8000):\n    \"\"\"\n    Record audio from the microphone.\n    \"\"\"\n    print(f\"Recording {duration} seconds of audio...\")",
        "detail": "audioPushHttps.audiopushmictest",
        "documentation": {}
    },
    {
        "label": "record_audio",
        "kind": 2,
        "importPath": "audioPushHttps.audiopushmictest",
        "description": "audioPushHttps.audiopushmictest",
        "peekOfCode": "def record_audio(duration, fs=8000):\n    \"\"\"\n    Record audio from the microphone.\n    \"\"\"\n    print(f\"Recording {duration} seconds of audio...\")\n    recording = sd.rec(int(duration * fs), samplerate=fs, channels=1, dtype='int16')\n    sd.wait()\n    print(\"Recording complete.\")\n    return recording\ndef encode_alaw(audio_data):",
        "detail": "audioPushHttps.audiopushmictest",
        "documentation": {}
    },
    {
        "label": "encode_alaw",
        "kind": 2,
        "importPath": "audioPushHttps.audiopushmictest",
        "description": "audioPushHttps.audiopushmictest",
        "peekOfCode": "def encode_alaw(audio_data):\n    \"\"\"\n    Encode audio data to A-law.\n    \"\"\"\n    print(\"Encoding audio to A-law...\")\n    audio_bytes = audio_data.tobytes()\n    alaw_data = audioop.lin2alaw(audio_bytes, 2)\n    print(\"Encoding complete.\")\n    return alaw_data\ndef send_audio(encoded_audio, url, access_token):",
        "detail": "audioPushHttps.audiopushmictest",
        "documentation": {}
    },
    {
        "label": "send_audio",
        "kind": 2,
        "importPath": "audioPushHttps.audiopushmictest",
        "description": "audioPushHttps.audiopushmictest",
        "peekOfCode": "def send_audio(encoded_audio, url, access_token):\n    \"\"\"\n    Send encoded audio via HTTPS POST request using in-memory file.\n    \"\"\"\n    print(\"Sending audio to server...\")\n    headers = {\n        'accept': '*/*',\n        'Authorization': f'Bearer {access_token}',\n        'Content-Type': 'multipart/form-data',\n    }",
        "detail": "audioPushHttps.audiopushmictest",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "audioPushHttps.audiopushmictest",
        "description": "audioPushHttps.audiopushmictest",
        "peekOfCode": "def main():\n    # Clear the terminal\n    clear_terminal()\n    # Authenticate and set up\n    url = f'https://media.c001.eagleeyenetworks.com:443/media/streams/audio/{cameraId}/alaw'\n    # Record, encode, and send the audio\n    audio_data = record_audio(duration=5)  # 5 seconds of audio\n    encoded_audio = encode_alaw(audio_data)\n    send_audio(encoded_audio, url, access_token)\nif __name__ == \"__main__\":",
        "detail": "audioPushHttps.audiopushmictest",
        "documentation": {}
    },
    {
        "label": "access_token",
        "kind": 5,
        "importPath": "audioPushHttps.audiopushmictest",
        "description": "audioPushHttps.audiopushmictest",
        "peekOfCode": "access_token = \"\"\ncameraId = \"\"\ndef clear_terminal():\n    \"\"\"\n    Clear the terminal.\n    \"\"\"\n    os.system('cls' if os.name == 'nt' else 'clear')\ndef record_audio(duration, fs=8000):\n    \"\"\"\n    Record audio from the microphone.",
        "detail": "audioPushHttps.audiopushmictest",
        "documentation": {}
    },
    {
        "label": "cameraId",
        "kind": 5,
        "importPath": "audioPushHttps.audiopushmictest",
        "description": "audioPushHttps.audiopushmictest",
        "peekOfCode": "cameraId = \"\"\ndef clear_terminal():\n    \"\"\"\n    Clear the terminal.\n    \"\"\"\n    os.system('cls' if os.name == 'nt' else 'clear')\ndef record_audio(duration, fs=8000):\n    \"\"\"\n    Record audio from the microphone.\n    \"\"\"",
        "detail": "audioPushHttps.audiopushmictest",
        "documentation": {}
    },
    {
        "label": "getTokens",
        "kind": 2,
        "importPath": "authentication_workflow.apiv3_authentication_flow",
        "description": "authentication_workflow.apiv3_authentication_flow",
        "peekOfCode": "def getTokens(code):\n    url = \"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code=\"+code+\"&redirect_uri=http://\"+hostName + \":\" + str(port)\n    response = requests.post(url, auth=(clientId, clientSecret))\n    print(\"the second request\",url)\n    print(response.request.headers,response,response.status_code)\n    return response.text\napp = Flask(__name__)\n@app.route('/')\ndef index():\n    code = request.args.get('code')",
        "detail": "authentication_workflow.apiv3_authentication_flow",
        "documentation": {}
    },
    {
        "label": "index",
        "kind": 2,
        "importPath": "authentication_workflow.apiv3_authentication_flow",
        "description": "authentication_workflow.apiv3_authentication_flow",
        "peekOfCode": "def index():\n    code = request.args.get('code')\n    if (code):\n        oauthObject = getTokens(code)\n        print(oauthObject)\n        return f\"You are logged in oauthObject: {oauthObject}\"\n    else:\n        endpoint            = \"https://auth.eagleeyenetworks.com/oauth2/authorize\"\n        requestAuthUrl      = endpoint+\"?client_id=\"+clientId+\"&response_type=code&scope=vms.all&redirect_uri=http://\"+hostName + \":\" + str(port)\n        print(\"the first request\", requestAuthUrl)",
        "detail": "authentication_workflow.apiv3_authentication_flow",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 5,
        "importPath": "authentication_workflow.apiv3_authentication_flow",
        "description": "authentication_workflow.apiv3_authentication_flow",
        "peekOfCode": "app = Flask(__name__)\n@app.route('/')\ndef index():\n    code = request.args.get('code')\n    if (code):\n        oauthObject = getTokens(code)\n        print(oauthObject)\n        return f\"You are logged in oauthObject: {oauthObject}\"\n    else:\n        endpoint            = \"https://auth.eagleeyenetworks.com/oauth2/authorize\"",
        "detail": "authentication_workflow.apiv3_authentication_flow",
        "documentation": {}
    },
    {
        "label": "make_request",
        "kind": 2,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "def make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        return None\n# OAuth and User Details Handling\ndef get_tokens(code):\n    url = f\"{AUTH_URL}/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{HOST_NAME}:{PORT}\"\n    return make_request(\"POST\", url, auth=(CLIENT_ID, CLIENT_SECRET))",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "get_tokens",
        "kind": 2,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "def get_tokens(code):\n    url = f\"{AUTH_URL}/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{HOST_NAME}:{PORT}\"\n    return make_request(\"POST\", url, auth=(CLIENT_ID, CLIENT_SECRET))\ndef get_base_url(accessToken):\n    url = f\"{BASE_URL}/api/v3.0/clientSettings\"\n    headers = {\"accept\": \"application/json\", \"authorization\": f\"Bearer {accessToken}\"}\n    settings = make_request(\"GET\", url, headers=headers)\n    return settings.get('httpsBaseUrl', {}).get('hostname') if settings else None\ndef get_user_details(accessToken, base_url):\n    url = f\"https://{base_url}/api/v3.0/users/self\"",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "get_base_url",
        "kind": 2,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "def get_base_url(accessToken):\n    url = f\"{BASE_URL}/api/v3.0/clientSettings\"\n    headers = {\"accept\": \"application/json\", \"authorization\": f\"Bearer {accessToken}\"}\n    settings = make_request(\"GET\", url, headers=headers)\n    return settings.get('httpsBaseUrl', {}).get('hostname') if settings else None\ndef get_user_details(accessToken, base_url):\n    url = f\"https://{base_url}/api/v3.0/users/self\"\n    headers = {\"accept\": \"application/json\", \"authorization\": f\"Bearer {accessToken}\"}\n    return make_request(\"GET\", url, headers=headers)\n# Route Handlers",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "get_user_details",
        "kind": 2,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "def get_user_details(accessToken, base_url):\n    url = f\"https://{base_url}/api/v3.0/users/self\"\n    headers = {\"accept\": \"application/json\", \"authorization\": f\"Bearer {accessToken}\"}\n    return make_request(\"GET\", url, headers=headers)\n# Route Handlers\n@app.route('/')\ndef index():\n    code = request.args.get('code')\n    if code:\n        oauthObject = get_tokens(code)",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "index",
        "kind": 2,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "def index():\n    code = request.args.get('code')\n    if code:\n        oauthObject = get_tokens(code)\n        accessToken = oauthObject.get('access_token') if oauthObject else None\n        base_url = get_base_url(accessToken) if accessToken else None\n        userDetails = get_user_details(accessToken, base_url) if base_url else None\n        userId = userDetails.get('email', 'unknown') if userDetails else 'unknown'\n        refresh_token = oauthObject.get('refresh_token', 'unknown') if oauthObject else 'unknown'\n        access_token = oauthObject.get('access_token', 'unknown') if oauthObject else 'unknown'",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 5,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "app = Flask(__name__)\n#### please note this is an example script ans should not be used in production ####\n#### If you are using this script in production, please make sure to use a secure method to store the client secret and client id ###\n#### This script is for educational purposes only ####\n#### not recommended for production use, please use a production server like wsgi ####\n# Constants\nHOST_NAME = \"127.0.0.1\"\nPORT = 3333\nCLIENT_ID = \"\"\nCLIENT_SECRET = \"\"",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "HOST_NAME",
        "kind": 5,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "HOST_NAME = \"127.0.0.1\"\nPORT = 3333\nCLIENT_ID = \"\"\nCLIENT_SECRET = \"\"\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "PORT",
        "kind": 5,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "PORT = 3333\nCLIENT_ID = \"\"\nCLIENT_SECRET = \"\"\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "CLIENT_ID",
        "kind": 5,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "CLIENT_ID = \"\"\nCLIENT_SECRET = \"\"\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "CLIENT_SECRET",
        "kind": 5,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "CLIENT_SECRET = \"\"\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        return None",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "AUTH_URL",
        "kind": 5,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "AUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        return None\n# OAuth and User Details Handling",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "BASE_URL",
        "kind": 5,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "BASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        return None\n# OAuth and User Details Handling\ndef get_tokens(code):",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "LOGIN_TEMPLATE",
        "kind": 5,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "LOGIN_TEMPLATE = '''\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Login Success</title>\n    <link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" rel=\"stylesheet\">\n</head>\n<body>",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "LOGIN_LINK_TEMPLATE",
        "kind": 5,
        "importPath": "dev_locallogin.localvmsauthentication",
        "description": "dev_locallogin.localvmsauthentication",
        "peekOfCode": "LOGIN_LINK_TEMPLATE = '''\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Login</title>\n    <link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" rel=\"stylesheet\">\n</head>\n<body>",
        "detail": "dev_locallogin.localvmsauthentication",
        "documentation": {}
    },
    {
        "label": "client_id",
        "kind": 5,
        "importPath": "embedded_login.encode_cc_base64",
        "description": "embedded_login.encode_cc_base64",
        "peekOfCode": "client_id = \"\"\nclient_secret = \"\"\nauth_string = f\"{client_id}:{client_secret}\"\nencoded_auth_string = base64.b64encode(auth_string.encode('utf-8')).decode('utf-8')\nprint(f\"Encoded: {encoded_auth_string}\")",
        "detail": "embedded_login.encode_cc_base64",
        "documentation": {}
    },
    {
        "label": "client_secret",
        "kind": 5,
        "importPath": "embedded_login.encode_cc_base64",
        "description": "embedded_login.encode_cc_base64",
        "peekOfCode": "client_secret = \"\"\nauth_string = f\"{client_id}:{client_secret}\"\nencoded_auth_string = base64.b64encode(auth_string.encode('utf-8')).decode('utf-8')\nprint(f\"Encoded: {encoded_auth_string}\")",
        "detail": "embedded_login.encode_cc_base64",
        "documentation": {}
    },
    {
        "label": "auth_string",
        "kind": 5,
        "importPath": "embedded_login.encode_cc_base64",
        "description": "embedded_login.encode_cc_base64",
        "peekOfCode": "auth_string = f\"{client_id}:{client_secret}\"\nencoded_auth_string = base64.b64encode(auth_string.encode('utf-8')).decode('utf-8')\nprint(f\"Encoded: {encoded_auth_string}\")",
        "detail": "embedded_login.encode_cc_base64",
        "documentation": {}
    },
    {
        "label": "encoded_auth_string",
        "kind": 5,
        "importPath": "embedded_login.encode_cc_base64",
        "description": "embedded_login.encode_cc_base64",
        "peekOfCode": "encoded_auth_string = base64.b64encode(auth_string.encode('utf-8')).decode('utf-8')\nprint(f\"Encoded: {encoded_auth_string}\")",
        "detail": "embedded_login.encode_cc_base64",
        "documentation": {}
    },
    {
        "label": "read_json",
        "kind": 2,
        "importPath": "embedded_login.generate_new_token",
        "description": "embedded_login.generate_new_token",
        "peekOfCode": "def read_json(filename):\n    with open(filename, 'r') as f:\n        return json.load(f)\ndef write_json(filename, data):\n    with open(filename, 'w') as f:\n        json.dump(data, f, indent=4)\ndef make_request(url, headers, data):\n    try:\n        response = requests.post(url, headers=headers, data=data)\n        response.raise_for_status()",
        "detail": "embedded_login.generate_new_token",
        "documentation": {}
    },
    {
        "label": "write_json",
        "kind": 2,
        "importPath": "embedded_login.generate_new_token",
        "description": "embedded_login.generate_new_token",
        "peekOfCode": "def write_json(filename, data):\n    with open(filename, 'w') as f:\n        json.dump(data, f, indent=4)\ndef make_request(url, headers, data):\n    try:\n        response = requests.post(url, headers=headers, data=data)\n        response.raise_for_status()\n        return response.json()\n    except requests.exceptions.RequestException as e:\n        print(f\"Error: {e}\")",
        "detail": "embedded_login.generate_new_token",
        "documentation": {}
    },
    {
        "label": "make_request",
        "kind": 2,
        "importPath": "embedded_login.generate_new_token",
        "description": "embedded_login.generate_new_token",
        "peekOfCode": "def make_request(url, headers, data):\n    try:\n        response = requests.post(url, headers=headers, data=data)\n        response.raise_for_status()\n        return response.json()\n    except requests.exceptions.RequestException as e:\n        print(f\"Error: {e}\")\n        if response:\n            print(f\"Status Code: {response.status_code}, Reason: {response.reason}\")\n        exit(1)",
        "detail": "embedded_login.generate_new_token",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "embedded_login.generate_new_token",
        "description": "embedded_login.generate_new_token",
        "peekOfCode": "def main():\n    access_data = read_json('access_response.json')\n    client_data = read_json('clientidbase64.json')\n    required_keys = ['access_token', 'refresh_token', 'scope', 'token_type', 'cc_base64']\n    required_data = {key: access_data.get(key) if key in access_data else client_data.get(key) for key in required_keys}\n    if not all(required_data.values()):\n        print(\"Required data missing from JSON files\")\n        exit(1)\n    headers = {\n        \"Accept\": \"application/json\",",
        "detail": "embedded_login.generate_new_token",
        "documentation": {}
    },
    {
        "label": "URL",
        "kind": 5,
        "importPath": "embedded_login.generate_new_token",
        "description": "embedded_login.generate_new_token",
        "peekOfCode": "URL = \"https://auth.eagleeyenetworks.com/oauth2/token\"\ndef read_json(filename):\n    with open(filename, 'r') as f:\n        return json.load(f)\ndef write_json(filename, data):\n    with open(filename, 'w') as f:\n        json.dump(data, f, indent=4)\ndef make_request(url, headers, data):\n    try:\n        response = requests.post(url, headers=headers, data=data)",
        "detail": "embedded_login.generate_new_token",
        "documentation": {}
    },
    {
        "label": "getTokens",
        "kind": 2,
        "importPath": "embedded_login.vmslocalhost",
        "description": "embedded_login.vmslocalhost",
        "peekOfCode": "def getTokens(code):\n    url = \"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code=\" + code + \"&redirect_uri=http://\" + hostName + \":\" + str(port)\n    response = requests.post(url, auth=(clientId, clientSecret))\n    if response.status_code == 200:\n        oauthObject = json.loads(response.text)\n        accessToken = oauthObject.get('access_token', None)\n        print(f\"Debug - Access Token: {accessToken}\")  # Debug\n        if accessToken:\n            return accessToken, oauthObject\n    print(f\"Debug - Failed to get Access Token. Response: {response.text}\")  # Debug",
        "detail": "embedded_login.vmslocalhost",
        "documentation": {}
    },
    {
        "label": "get_base_url",
        "kind": 2,
        "importPath": "embedded_login.vmslocalhost",
        "description": "embedded_login.vmslocalhost",
        "peekOfCode": "def get_base_url(accessToken):\n    url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\n    headers = {\n        \"accept\": \"application/json\",\n        \"authorization\": f\"Bearer {accessToken}\"\n    }\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        settings = json.loads(response.text)\n        hostname = settings.get('httpsBaseUrl', {}).get('hostname')",
        "detail": "embedded_login.vmslocalhost",
        "documentation": {}
    },
    {
        "label": "get_user_details",
        "kind": 2,
        "importPath": "embedded_login.vmslocalhost",
        "description": "embedded_login.vmslocalhost",
        "peekOfCode": "def get_user_details(accessToken):\n    if not accessToken:\n        print(\"Debug - Access Token is None\")  # Debug\n        return {}\n    base_url = get_base_url(accessToken)\n    if not base_url:\n        print(\"Debug - Failed to get base URL\")\n        return {}\n    url = f\"https://{base_url}/api/v3.0/users/self\"  # Make sure this URL is correct\n    headers = {\"accept\": \"application/json\", \"authorization\": \"Bearer \" + accessToken}",
        "detail": "embedded_login.vmslocalhost",
        "documentation": {}
    },
    {
        "label": "index",
        "kind": 2,
        "importPath": "embedded_login.vmslocalhost",
        "description": "embedded_login.vmslocalhost",
        "peekOfCode": "def index():\n    code = request.args.get('code')\n    if code:\n        accessToken, oauthObject = getTokens(code)\n        if accessToken is None:\n            return \"Failed to log in.\"\n        userDetails = get_user_details(accessToken)\n        userId = userDetails.get('id', 'unknown')\n        with open(f'{userId}_access_response.json', 'w') as f:\n            f.write(json.dumps(oauthObject))",
        "detail": "embedded_login.vmslocalhost",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 5,
        "importPath": "embedded_login.vmslocalhost",
        "description": "embedded_login.vmslocalhost",
        "peekOfCode": "app = Flask(__name__)\nhostName = \"127.0.0.1\"\nport = 3333\nclientId = \"\"\nclientSecret = \"\"\ndef getTokens(code):\n    url = \"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code=\" + code + \"&redirect_uri=http://\" + hostName + \":\" + str(port)\n    response = requests.post(url, auth=(clientId, clientSecret))\n    if response.status_code == 200:\n        oauthObject = json.loads(response.text)",
        "detail": "embedded_login.vmslocalhost",
        "documentation": {}
    },
    {
        "label": "hostName",
        "kind": 5,
        "importPath": "embedded_login.vmslocalhost",
        "description": "embedded_login.vmslocalhost",
        "peekOfCode": "hostName = \"127.0.0.1\"\nport = 3333\nclientId = \"\"\nclientSecret = \"\"\ndef getTokens(code):\n    url = \"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code=\" + code + \"&redirect_uri=http://\" + hostName + \":\" + str(port)\n    response = requests.post(url, auth=(clientId, clientSecret))\n    if response.status_code == 200:\n        oauthObject = json.loads(response.text)\n        accessToken = oauthObject.get('access_token', None)",
        "detail": "embedded_login.vmslocalhost",
        "documentation": {}
    },
    {
        "label": "port",
        "kind": 5,
        "importPath": "embedded_login.vmslocalhost",
        "description": "embedded_login.vmslocalhost",
        "peekOfCode": "port = 3333\nclientId = \"\"\nclientSecret = \"\"\ndef getTokens(code):\n    url = \"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code=\" + code + \"&redirect_uri=http://\" + hostName + \":\" + str(port)\n    response = requests.post(url, auth=(clientId, clientSecret))\n    if response.status_code == 200:\n        oauthObject = json.loads(response.text)\n        accessToken = oauthObject.get('access_token', None)\n        print(f\"Debug - Access Token: {accessToken}\")  # Debug",
        "detail": "embedded_login.vmslocalhost",
        "documentation": {}
    },
    {
        "label": "clientId",
        "kind": 5,
        "importPath": "embedded_login.vmslocalhost",
        "description": "embedded_login.vmslocalhost",
        "peekOfCode": "clientId = \"\"\nclientSecret = \"\"\ndef getTokens(code):\n    url = \"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code=\" + code + \"&redirect_uri=http://\" + hostName + \":\" + str(port)\n    response = requests.post(url, auth=(clientId, clientSecret))\n    if response.status_code == 200:\n        oauthObject = json.loads(response.text)\n        accessToken = oauthObject.get('access_token', None)\n        print(f\"Debug - Access Token: {accessToken}\")  # Debug\n        if accessToken:",
        "detail": "embedded_login.vmslocalhost",
        "documentation": {}
    },
    {
        "label": "clientSecret",
        "kind": 5,
        "importPath": "embedded_login.vmslocalhost",
        "description": "embedded_login.vmslocalhost",
        "peekOfCode": "clientSecret = \"\"\ndef getTokens(code):\n    url = \"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code=\" + code + \"&redirect_uri=http://\" + hostName + \":\" + str(port)\n    response = requests.post(url, auth=(clientId, clientSecret))\n    if response.status_code == 200:\n        oauthObject = json.loads(response.text)\n        accessToken = oauthObject.get('access_token', None)\n        print(f\"Debug - Access Token: {accessToken}\")  # Debug\n        if accessToken:\n            return accessToken, oauthObject",
        "detail": "embedded_login.vmslocalhost",
        "documentation": {}
    },
    {
        "label": "start_script_time",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "start_script_time = time.time()  # Measure the start time of the script\nTIMESTAMP_FORMAT0 = \"%3A\"\nTIMESTAMP_FORMAT1 = \"%2B\"\naccess_token = \"\"\ntoken_type = \"Bearer\"\nactorId = \"camera:XXXXXX\"\nbaseUrl = \"api.cXXX.eagleeyenetworks.com\"\nevent_types = [\n    \"een.deviceCloudStatusUpdateEvent.v1\",\n    \"een.motionDetectionEvent.v1\",",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT0",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "TIMESTAMP_FORMAT0 = \"%3A\"\nTIMESTAMP_FORMAT1 = \"%2B\"\naccess_token = \"\"\ntoken_type = \"Bearer\"\nactorId = \"camera:XXXXXX\"\nbaseUrl = \"api.cXXX.eagleeyenetworks.com\"\nevent_types = [\n    \"een.deviceCloudStatusUpdateEvent.v1\",\n    \"een.motionDetectionEvent.v1\",\n    \"een.lprPlateReadEvent.v1\",",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT1",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "TIMESTAMP_FORMAT1 = \"%2B\"\naccess_token = \"\"\ntoken_type = \"Bearer\"\nactorId = \"camera:XXXXXX\"\nbaseUrl = \"api.cXXX.eagleeyenetworks.com\"\nevent_types = [\n    \"een.deviceCloudStatusUpdateEvent.v1\",\n    \"een.motionDetectionEvent.v1\",\n    \"een.lprPlateReadEvent.v1\",\n    \"een.tamperDetectionEvent.v1\",",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "access_token",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "access_token = \"\"\ntoken_type = \"Bearer\"\nactorId = \"camera:XXXXXX\"\nbaseUrl = \"api.cXXX.eagleeyenetworks.com\"\nevent_types = [\n    \"een.deviceCloudStatusUpdateEvent.v1\",\n    \"een.motionDetectionEvent.v1\",\n    \"een.lprPlateReadEvent.v1\",\n    \"een.tamperDetectionEvent.v1\",\n    \"een.objectIntrusionEvent.v1\",",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "token_type",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "token_type = \"Bearer\"\nactorId = \"camera:XXXXXX\"\nbaseUrl = \"api.cXXX.eagleeyenetworks.com\"\nevent_types = [\n    \"een.deviceCloudStatusUpdateEvent.v1\",\n    \"een.motionDetectionEvent.v1\",\n    \"een.lprPlateReadEvent.v1\",\n    \"een.tamperDetectionEvent.v1\",\n    \"een.objectIntrusionEvent.v1\",\n    \"een.objectLineCrossEvent.v1\",",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "actorId",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "actorId = \"camera:XXXXXX\"\nbaseUrl = \"api.cXXX.eagleeyenetworks.com\"\nevent_types = [\n    \"een.deviceCloudStatusUpdateEvent.v1\",\n    \"een.motionDetectionEvent.v1\",\n    \"een.lprPlateReadEvent.v1\",\n    \"een.tamperDetectionEvent.v1\",\n    \"een.objectIntrusionEvent.v1\",\n    \"een.objectLineCrossEvent.v1\",\n    \"een.loiterDetectionEvent.v1\"",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "baseUrl",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "baseUrl = \"api.cXXX.eagleeyenetworks.com\"\nevent_types = [\n    \"een.deviceCloudStatusUpdateEvent.v1\",\n    \"een.motionDetectionEvent.v1\",\n    \"een.lprPlateReadEvent.v1\",\n    \"een.tamperDetectionEvent.v1\",\n    \"een.objectIntrusionEvent.v1\",\n    \"een.objectLineCrossEvent.v1\",\n    \"een.loiterDetectionEvent.v1\"\n]",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "event_types",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "event_types = [\n    \"een.deviceCloudStatusUpdateEvent.v1\",\n    \"een.motionDetectionEvent.v1\",\n    \"een.lprPlateReadEvent.v1\",\n    \"een.tamperDetectionEvent.v1\",\n    \"een.objectIntrusionEvent.v1\",\n    \"een.objectLineCrossEvent.v1\",\n    \"een.loiterDetectionEvent.v1\"\n]\npageSize = \"pageSize=50000\"",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "pageSize",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "pageSize = \"pageSize=50000\"\ndate = \"2024-01-20\"\nunencoded_startTimestamp = f\"{date}T00:00:00.000+00:00\"\nunencoded_endTimestamp = f\"{date}T23:59:59.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nprint(unencoded_startTimestamp, \"to\", unencoded_endTimestamp)\nheaders = {\n    \"accept\": \"application/json\",\n    \"authorization\": f\"Bearer {access_token}\"",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "date",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "date = \"2024-01-20\"\nunencoded_startTimestamp = f\"{date}T00:00:00.000+00:00\"\nunencoded_endTimestamp = f\"{date}T23:59:59.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nprint(unencoded_startTimestamp, \"to\", unencoded_endTimestamp)\nheaders = {\n    \"accept\": \"application/json\",\n    \"authorization\": f\"Bearer {access_token}\"\n}",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "unencoded_startTimestamp",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "unencoded_startTimestamp = f\"{date}T00:00:00.000+00:00\"\nunencoded_endTimestamp = f\"{date}T23:59:59.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nprint(unencoded_startTimestamp, \"to\", unencoded_endTimestamp)\nheaders = {\n    \"accept\": \"application/json\",\n    \"authorization\": f\"Bearer {access_token}\"\n}\nfor event_type in event_types:",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "unencoded_endTimestamp",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "unencoded_endTimestamp = f\"{date}T23:59:59.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nprint(unencoded_startTimestamp, \"to\", unencoded_endTimestamp)\nheaders = {\n    \"accept\": \"application/json\",\n    \"authorization\": f\"Bearer {access_token}\"\n}\nfor event_type in event_types:\n    typeIn = event_type",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "startTimestamp",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "startTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nprint(unencoded_startTimestamp, \"to\", unencoded_endTimestamp)\nheaders = {\n    \"accept\": \"application/json\",\n    \"authorization\": f\"Bearer {access_token}\"\n}\nfor event_type in event_types:\n    typeIn = event_type\n    url = f\"https://{baseUrl}/api/v3.0/events?{pageSize}&startTimestamp__gte={startTimestamp}&endTimestamp__lte={endTimestamp}&actor={actorId}&type__in={typeIn}\"",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "endTimestamp",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "endTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nprint(unencoded_startTimestamp, \"to\", unencoded_endTimestamp)\nheaders = {\n    \"accept\": \"application/json\",\n    \"authorization\": f\"Bearer {access_token}\"\n}\nfor event_type in event_types:\n    typeIn = event_type\n    url = f\"https://{baseUrl}/api/v3.0/events?{pageSize}&startTimestamp__gte={startTimestamp}&endTimestamp__lte={endTimestamp}&actor={actorId}&type__in={typeIn}\"\n    request_times = []  # List to store request times",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "headers",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "headers = {\n    \"accept\": \"application/json\",\n    \"authorization\": f\"Bearer {access_token}\"\n}\nfor event_type in event_types:\n    typeIn = event_type\n    url = f\"https://{baseUrl}/api/v3.0/events?{pageSize}&startTimestamp__gte={startTimestamp}&endTimestamp__lte={endTimestamp}&actor={actorId}&type__in={typeIn}\"\n    request_times = []  # List to store request times\n    for i in range(10):\n        start_time = time.time()  # Initialize start_time before calculating request time",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "end_script_time",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "end_script_time = time.time()  # Measure the end time of the script\ntotal_script_time = end_script_time - start_script_time  # Calculate the total script time\nprint(f\"Total script time: {total_script_time} seconds\")",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "total_script_time",
        "kind": 5,
        "importPath": "events_timer-main.events_timer",
        "description": "events_timer-main.events_timer",
        "peekOfCode": "total_script_time = end_script_time - start_script_time  # Calculate the total script time\nprint(f\"Total script time: {total_script_time} seconds\")",
        "detail": "events_timer-main.events_timer",
        "documentation": {}
    },
    {
        "label": "get_session_response",
        "kind": 2,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "def get_session_response(base_url, access_token):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"\n    headers = {\n        \"accept\": \"application/json\",\n        \"authorization\": \"Bearer \" + access_token\n    }\n    try:\n        session_response = requests.get(session_url, headers=headers, cookies={'credentials': 'include'})\n        session_response.raise_for_status()\n    except requests.exceptions.RequestException as e:",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "getfeeds",
        "kind": 2,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "def getfeeds():\n        ## request cameras ##        \n        url = \"https://\" + httpsBaseURL + \"/api/v3.0/feeds?deviceId=\" + camid + \"&type=main&include=flvUrl&include=rtspUrl&include=rtspsUrl&include=hlsUrl&include=multipartUrl&include=webRtcUrl&pageSize=100\"\n        headers = {\"accept\": \"application/json\",\n                    \"authorization\": token_type +  ' ' +access_token\n                    }\n        getfeeds = requests.get(url, headers=headers)\n        data = json.loads(getfeeds.text)\n        print(\"Loading Camera Feeds\", getfeeds.status_code)\n        flvUrl = data['results'][0]['flvUrl']",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "print_menu",
        "kind": 2,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "def print_menu():\n    # Display menu with streaming protocol options\n    print(\"Select an option (enter the corresponding number):\")\n    print(\"1- Multipart preview\")\n    print(\"2- Multipart full\")\n    print(\"3 - RTSP Over TCP\")\n    print(\"4 - RTSP Over UDP\")\n    print(\"5 - RTSPS\")\n    print(\"6 - HLS\")\n    print(\"7 - FLV\")",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "execute_command",
        "kind": 2,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "def execute_command(choice, token, url):\n    # Execute the appropriate FFplay command based on user's choice\n    commands = [\n        #\"ffplay -headers \\\"Authorization: Bearer {1}\\\" \\\"{0}\\\"\",\n        \"ffplay -headers \\\"Authorization: Bearer {1}\\\" -f mjpeg \\\"{0}\\\"\", # 1 multipart preview\n        \"ffplay -headers \\\"Authorization: Bearer {1}\\\" -f h264 \\\"{0}\\\"\", # 2 multipart full\n        \"ffplay -rtsp_transport tcp \\\"{}&access_token={}\\\"\", # 3 rtsp over tcp\n        \"ffplay -rtsp_transport udp \\\"{}&access_token={}\\\"\", # 4 rtsp over udp\n        \"ffplay \\\"{}&access_token={}\\\"\", # 5 rtsps\n        \"ffplay -headers \\\"Authorization: Bearer {1}\\\" \\\"{0}\\\"\", # 6 hls",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "def main():\n    flvUrl, rtspUrl, rtspsUrl, hlsUrl, multipartUrl = getfeeds()\n    # Main loop: display menu, take input, execute command or exit\n    while True:\n        print_menu()\n        choice = int(input())\n        if choice == 0:\n            break\n        elif choice == 1:\n            token = access_token",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "Temp",
        "kind": 5,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "Temp = True\ncamid = \"<ADD_CAMERA_ID_HERE>\"\naccess_token = \"<ADD_ACCESS_TOKEN_HERE>\"\ntoken_type = \"Bearer\"\nurl = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\nheaders = {\"accept\": \"application/json\",\n            \"authorization\": token_type + access_token\n            }\nresponse = requests.get(url, headers=headers)\nhttpsBaseURL = response.json()[\"httpsBaseUrl\"][\"hostname\"]",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "camid",
        "kind": 5,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "camid = \"<ADD_CAMERA_ID_HERE>\"\naccess_token = \"<ADD_ACCESS_TOKEN_HERE>\"\ntoken_type = \"Bearer\"\nurl = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\nheaders = {\"accept\": \"application/json\",\n            \"authorization\": token_type + access_token\n            }\nresponse = requests.get(url, headers=headers)\nhttpsBaseURL = response.json()[\"httpsBaseUrl\"][\"hostname\"]\nprint (\"Loading Camera Feeds\", camid)",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "access_token",
        "kind": 5,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "access_token = \"<ADD_ACCESS_TOKEN_HERE>\"\ntoken_type = \"Bearer\"\nurl = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\nheaders = {\"accept\": \"application/json\",\n            \"authorization\": token_type + access_token\n            }\nresponse = requests.get(url, headers=headers)\nhttpsBaseURL = response.json()[\"httpsBaseUrl\"][\"hostname\"]\nprint (\"Loading Camera Feeds\", camid)\ndef get_session_response(base_url, access_token):",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "token_type",
        "kind": 5,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "token_type = \"Bearer\"\nurl = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\nheaders = {\"accept\": \"application/json\",\n            \"authorization\": token_type + access_token\n            }\nresponse = requests.get(url, headers=headers)\nhttpsBaseURL = response.json()[\"httpsBaseUrl\"][\"hostname\"]\nprint (\"Loading Camera Feeds\", camid)\ndef get_session_response(base_url, access_token):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "url",
        "kind": 5,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\nheaders = {\"accept\": \"application/json\",\n            \"authorization\": token_type + access_token\n            }\nresponse = requests.get(url, headers=headers)\nhttpsBaseURL = response.json()[\"httpsBaseUrl\"][\"hostname\"]\nprint (\"Loading Camera Feeds\", camid)\ndef get_session_response(base_url, access_token):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"\n    headers = {",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "headers",
        "kind": 5,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "headers = {\"accept\": \"application/json\",\n            \"authorization\": token_type + access_token\n            }\nresponse = requests.get(url, headers=headers)\nhttpsBaseURL = response.json()[\"httpsBaseUrl\"][\"hostname\"]\nprint (\"Loading Camera Feeds\", camid)\ndef get_session_response(base_url, access_token):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"\n    headers = {\n        \"accept\": \"application/json\",",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "response",
        "kind": 5,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "response = requests.get(url, headers=headers)\nhttpsBaseURL = response.json()[\"httpsBaseUrl\"][\"hostname\"]\nprint (\"Loading Camera Feeds\", camid)\ndef get_session_response(base_url, access_token):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"\n    headers = {\n        \"accept\": \"application/json\",\n        \"authorization\": \"Bearer \" + access_token\n    }\n    try:",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "httpsBaseURL",
        "kind": 5,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "httpsBaseURL = response.json()[\"httpsBaseUrl\"][\"hostname\"]\nprint (\"Loading Camera Feeds\", camid)\ndef get_session_response(base_url, access_token):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"\n    headers = {\n        \"accept\": \"application/json\",\n        \"authorization\": \"Bearer \" + access_token\n    }\n    try:\n        session_response = requests.get(session_url, headers=headers, cookies={'credentials': 'include'})",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "session_response",
        "kind": 5,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "session_response = get_session_response(httpsBaseURL, access_token)\nsession = requests.Session()\nsession.headers.update({\"accept\": \"application/json\", \"authorization\": \"Bearer \" + access_token})\ndef getfeeds():\n        ## request cameras ##        \n        url = \"https://\" + httpsBaseURL + \"/api/v3.0/feeds?deviceId=\" + camid + \"&type=main&include=flvUrl&include=rtspUrl&include=rtspsUrl&include=hlsUrl&include=multipartUrl&include=webRtcUrl&pageSize=100\"\n        headers = {\"accept\": \"application/json\",\n                    \"authorization\": token_type +  ' ' +access_token\n                    }\n        getfeeds = requests.get(url, headers=headers)",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "session",
        "kind": 5,
        "importPath": "ffplayer.playvideoffplay.playvideowithffplay",
        "description": "ffplayer.playvideoffplay.playvideowithffplay",
        "peekOfCode": "session = requests.Session()\nsession.headers.update({\"accept\": \"application/json\", \"authorization\": \"Bearer \" + access_token})\ndef getfeeds():\n        ## request cameras ##        \n        url = \"https://\" + httpsBaseURL + \"/api/v3.0/feeds?deviceId=\" + camid + \"&type=main&include=flvUrl&include=rtspUrl&include=rtspsUrl&include=hlsUrl&include=multipartUrl&include=webRtcUrl&pageSize=100\"\n        headers = {\"accept\": \"application/json\",\n                    \"authorization\": token_type +  ' ' +access_token\n                    }\n        getfeeds = requests.get(url, headers=headers)\n        data = json.loads(getfeeds.text)",
        "detail": "ffplayer.playvideoffplay.playvideowithffplay",
        "documentation": {}
    },
    {
        "label": "clientsettings",
        "kind": 2,
        "importPath": "ffplayer.ffplay_apiv3",
        "description": "ffplayer.ffplay_apiv3",
        "peekOfCode": "def clientsettings():\n    camid = \"ESN\"\n    with open('access_response.json') as user_file:\n        file_contents = json.load(user_file)\n        access_token = file_contents[\"access_token\"]\n        token_type = file_contents[\"token_type\"]\n        url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\n        headers = {\"accept\": \"application/json\",\n                    \"authorization\": token_type + access_token\n                    }",
        "detail": "ffplayer.ffplay_apiv3",
        "documentation": {}
    },
    {
        "label": "getcamsettings",
        "kind": 2,
        "importPath": "ffplayer.ffplay_apiv3",
        "description": "ffplayer.ffplay_apiv3",
        "peekOfCode": "def getcamsettings():\n        ## request cameras ##        \n        access_token, token_type, httpsBaseURL, camid = clientsettings()\n        url = \"https://\" + httpsBaseURL + \"/api/v3.0/cameras/\" + camid\n        headers = {\"accept\": \"application/json\",\n                    \"authorization\": token_type +  ' ' +access_token\n                    }\n        getcam = requests.get(url, headers=headers)\n        print(\"Get camerasettings\", getcam.status_code)\n        print(httpsBaseURL)",
        "detail": "ffplayer.ffplay_apiv3",
        "documentation": {}
    },
    {
        "label": "getfeeds",
        "kind": 2,
        "importPath": "ffplayer.ffplay_apiv3",
        "description": "ffplayer.ffplay_apiv3",
        "peekOfCode": "def getfeeds():\n        ## request cameras ##        \n        access_token, token_type, httpsBaseURL, camid = clientsettings()\n        url = \"https://\" + httpsBaseURL + \"/api/v3.0/feeds?deviceId=\" + camid + \"&type=main&include=flvUrl&include=rtspUrl&include=rtspsUrl&include=hlsUrl&include=multipartUrl&include=webRtcUrl&pageSize=100\"\n        headers = {\"accept\": \"application/json\",\n                    \"authorization\": token_type +  ' ' +access_token\n                    }\n        getfeeds = requests.get(url, headers=headers)\n        data = json.loads(getfeeds.text)\n        print(\"Loading Camera Feeds\", getfeeds.status_code)",
        "detail": "ffplayer.ffplay_apiv3",
        "documentation": {}
    },
    {
        "label": "print_menu",
        "kind": 2,
        "importPath": "ffplayer.ffplay_apiv3",
        "description": "ffplayer.ffplay_apiv3",
        "peekOfCode": "def print_menu():\n    # Display menu with streaming protocol options\n    print(\"Select an option (enter the corresponding number):\")\n    print(\"1- Multipart preview\")\n    print(\"2- Multipart full\")\n    print(\"3 - RTSP Over TCP\")\n    print(\"4 - RTSP Over UDP\")\n    print(\"5 - RTSPS\")\n    print(\"6 - HLS\")\n    print(\"7 - FLV\")",
        "detail": "ffplayer.ffplay_apiv3",
        "documentation": {}
    },
    {
        "label": "execute_command",
        "kind": 2,
        "importPath": "ffplayer.ffplay_apiv3",
        "description": "ffplayer.ffplay_apiv3",
        "peekOfCode": "def execute_command(choice, token, url):\n    # Execute the appropriate FFplay command based on user's choice\n    commands = [\n        \"ffplay -headers \\\"Authorization: Bearer {1}\\\" \\\"{0}\\\"\",\n        \"ffplay -headers \\\"Authorization: Bearer {1}\\\" -f h264 \\\"{0}&flavor=ffmpeg\\\"\",\n        \"ffplay -rtsp_transport tcp \\\"{}&access_token={}\\\"\",\n        \"ffplay -rtsp_transport udp \\\"{}&access_token={}\\\"\",\n        \"ffplay \\\"{}&access_token={}\\\"\",\n        \"ffplay -headers \\\"Authorization: Bearer {1}\\\" \\\"{0}\\\"\",\n        \"ffplay -headers \\\"Authorization: Bearer {1}\\\" \\\"{0}\\\"\",",
        "detail": "ffplayer.ffplay_apiv3",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "ffplayer.ffplay_apiv3",
        "description": "ffplayer.ffplay_apiv3",
        "peekOfCode": "def main():\n    access_token, token_type, httpsBaseURL, camid = clientsettings()\n    flvUrl, rtspUrl, rtspsUrl, hlsUrl, multipart = getfeeds()\n    # Main loop: display menu, take input, execute command or exit\n    while True:\n        print_menu()\n        choice = int(input())\n        if choice == 0:\n            break\n        elif choice == 1:",
        "detail": "ffplayer.ffplay_apiv3",
        "documentation": {}
    },
    {
        "label": "getTokens",
        "kind": 2,
        "importPath": "ffplayer.vmslocaltest",
        "description": "ffplayer.vmslocaltest",
        "peekOfCode": "def getTokens(code):\n    url = \"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code=\"+code+\"&redirect_uri=http://\"+hostName + \":\" + str(port)\n    response = requests.post(url, auth=(clientId, clientSecret))\n    return response.text\napp = Flask(__name__)\n# If a user visits localhost:3333 this method will be called. This method is called in 2 cases:\n# 1) For step 1, in this case a link is given to rediret the user to auth.eagleeyenetworks.com\n# 2) Handling users that are redirected from auth.eagleeyenetworks.com\n@app.route('/')\ndef index():",
        "detail": "ffplayer.vmslocaltest",
        "documentation": {}
    },
    {
        "label": "index",
        "kind": 2,
        "importPath": "ffplayer.vmslocaltest",
        "description": "ffplayer.vmslocaltest",
        "peekOfCode": "def index():\n    # This is getting the ?code= querystring value from the HTTP request.\n    code = request.args.get('code')\n    if (code):\n        # Execute Step 2, the user is redirected back to localhost:3333 because of the \"&redirect_uri=\"\n        # With the CODE this backend can request the actual access_token and refresh_token\n        # For demo purposes the results are printed to the console, on production never show the refresh_token in the browser.\n        oauthObject = getTokens(code)\n        with open('access_response.json', 'w') as f:\n            f.write(oauthObject)",
        "detail": "ffplayer.vmslocaltest",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 5,
        "importPath": "ffplayer.vmslocaltest",
        "description": "ffplayer.vmslocaltest",
        "peekOfCode": "app = Flask(__name__)\n# If a user visits localhost:3333 this method will be called. This method is called in 2 cases:\n# 1) For step 1, in this case a link is given to rediret the user to auth.eagleeyenetworks.com\n# 2) Handling users that are redirected from auth.eagleeyenetworks.com\n@app.route('/')\ndef index():\n    # This is getting the ?code= querystring value from the HTTP request.\n    code = request.args.get('code')\n    if (code):\n        # Execute Step 2, the user is redirected back to localhost:3333 because of the \"&redirect_uri=\"",
        "detail": "ffplayer.vmslocaltest",
        "documentation": {}
    },
    {
        "label": "index",
        "kind": 2,
        "importPath": "iframe.app",
        "description": "iframe.app",
        "peekOfCode": "def index():\n    return render_template('index.html')\n@app.route('/live', methods=['GET', 'POST'])\ndef live():\n    if request.method == 'POST':\n        access_token = request.form.get('access_token')\n        camera_id = request.form.get('camera_id')\n    else:  # This will handle GET requests\n        access_token = request.args.get('access_token')\n        camera_id = request.args.get('camera_id')",
        "detail": "iframe.app",
        "documentation": {}
    },
    {
        "label": "live",
        "kind": 2,
        "importPath": "iframe.app",
        "description": "iframe.app",
        "peekOfCode": "def live():\n    if request.method == 'POST':\n        access_token = request.form.get('access_token')\n        camera_id = request.form.get('camera_id')\n    else:  # This will handle GET requests\n        access_token = request.args.get('access_token')\n        camera_id = request.args.get('camera_id')\n    return render_template('live.html', access_token=access_token, camera_id=camera_id)\n@app.route('/history', methods=['GET', 'POST'])\ndef history():",
        "detail": "iframe.app",
        "documentation": {}
    },
    {
        "label": "history",
        "kind": 2,
        "importPath": "iframe.app",
        "description": "iframe.app",
        "peekOfCode": "def history():\n    if request.method == 'POST':\n        access_token = request.form.get('access_token')\n        camera_id = request.form.get('camera_id')\n    else:  # This will handle GET requests\n        access_token = request.args.get('access_token')\n        camera_id = request.args.get('camera_id')\n    return render_template('history.html', access_token=access_token, camera_id=camera_id)\n@app.route('/historylive', methods=['GET', 'POST'])\ndef historylive():",
        "detail": "iframe.app",
        "documentation": {}
    },
    {
        "label": "historylive",
        "kind": 2,
        "importPath": "iframe.app",
        "description": "iframe.app",
        "peekOfCode": "def historylive():\n    if request.method == 'POST':\n        access_token = request.form.get('access_token')\n        camera_id = request.form.get('camera_id')\n    else:  # This will handle GET requests\n        access_token = request.args.get('access_token')\n        camera_id = request.args.get('camera_id')\n    return render_template('historylive.html', access_token=access_token, camera_id=camera_id)\nif __name__ == '__main__':\n    app.run(debug=True, port=3337)",
        "detail": "iframe.app",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 5,
        "importPath": "iframe.app",
        "description": "iframe.app",
        "peekOfCode": "app = Flask(__name__)\n@app.route('/')\ndef index():\n    return render_template('index.html')\n@app.route('/live', methods=['GET', 'POST'])\ndef live():\n    if request.method == 'POST':\n        access_token = request.form.get('access_token')\n        camera_id = request.form.get('camera_id')\n    else:  # This will handle GET requests",
        "detail": "iframe.app",
        "documentation": {}
    },
    {
        "label": "getTokens",
        "kind": 2,
        "importPath": "localmediatest.localmediatest",
        "description": "localmediatest.localmediatest",
        "peekOfCode": "def getTokens(code):\n    url = f\"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{hostName}:{port}\"\n    try:\n        response = requests.post(url, auth=(clientId, clientSecret))\n        response.raise_for_status()  # Raises stored HTTPError, if one occurred\n        return json.loads(response.text)\n    except requests.RequestException as e:\n        print(f\"Error getting tokens: {e}\")\n        return None\n@app.route('/')",
        "detail": "localmediatest.localmediatest",
        "documentation": {}
    },
    {
        "label": "index",
        "kind": 2,
        "importPath": "localmediatest.localmediatest",
        "description": "localmediatest.localmediatest",
        "peekOfCode": "def index():\n    code = request.args.get('code')\n    if code:\n        oauthObject = getTokens(code)\n        access_token = oauthObject.get('access_token', '')\n        # Get the base URL\n        base_url = get_base_url(access_token)\n        response = make_response(render_template_string(HTML_TEMPLATE))\n        response.set_cookie('access_token', access_token)\n        response.set_cookie('base_url', base_url)",
        "detail": "localmediatest.localmediatest",
        "documentation": {}
    },
    {
        "label": "get_base_url",
        "kind": 2,
        "importPath": "localmediatest.localmediatest",
        "description": "localmediatest.localmediatest",
        "peekOfCode": "def get_base_url(access_token):\n    url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\n    headers = {\n        \"accept\": \"application/json\",\n        \"authorization\": f\"Bearer {access_token}\"\n    }\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        settings = json.loads(response.text)\n        hostname = settings.get('httpsBaseUrl', {}).get('hostname')",
        "detail": "localmediatest.localmediatest",
        "documentation": {}
    },
    {
        "label": "hostName",
        "kind": 5,
        "importPath": "localmediatest.localmediatest",
        "description": "localmediatest.localmediatest",
        "peekOfCode": "hostName = \"127.0.0.1\"\nport = 3333\nclientId = \"\"\nclientSecret = \"\"\napp = Flask(__name__)\ndef getTokens(code):\n    url = f\"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{hostName}:{port}\"\n    try:\n        response = requests.post(url, auth=(clientId, clientSecret))\n        response.raise_for_status()  # Raises stored HTTPError, if one occurred",
        "detail": "localmediatest.localmediatest",
        "documentation": {}
    },
    {
        "label": "port",
        "kind": 5,
        "importPath": "localmediatest.localmediatest",
        "description": "localmediatest.localmediatest",
        "peekOfCode": "port = 3333\nclientId = \"\"\nclientSecret = \"\"\napp = Flask(__name__)\ndef getTokens(code):\n    url = f\"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{hostName}:{port}\"\n    try:\n        response = requests.post(url, auth=(clientId, clientSecret))\n        response.raise_for_status()  # Raises stored HTTPError, if one occurred\n        return json.loads(response.text)",
        "detail": "localmediatest.localmediatest",
        "documentation": {}
    },
    {
        "label": "clientId",
        "kind": 5,
        "importPath": "localmediatest.localmediatest",
        "description": "localmediatest.localmediatest",
        "peekOfCode": "clientId = \"\"\nclientSecret = \"\"\napp = Flask(__name__)\ndef getTokens(code):\n    url = f\"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{hostName}:{port}\"\n    try:\n        response = requests.post(url, auth=(clientId, clientSecret))\n        response.raise_for_status()  # Raises stored HTTPError, if one occurred\n        return json.loads(response.text)\n    except requests.RequestException as e:",
        "detail": "localmediatest.localmediatest",
        "documentation": {}
    },
    {
        "label": "clientSecret",
        "kind": 5,
        "importPath": "localmediatest.localmediatest",
        "description": "localmediatest.localmediatest",
        "peekOfCode": "clientSecret = \"\"\napp = Flask(__name__)\ndef getTokens(code):\n    url = f\"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{hostName}:{port}\"\n    try:\n        response = requests.post(url, auth=(clientId, clientSecret))\n        response.raise_for_status()  # Raises stored HTTPError, if one occurred\n        return json.loads(response.text)\n    except requests.RequestException as e:\n        print(f\"Error getting tokens: {e}\")",
        "detail": "localmediatest.localmediatest",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 5,
        "importPath": "localmediatest.localmediatest",
        "description": "localmediatest.localmediatest",
        "peekOfCode": "app = Flask(__name__)\ndef getTokens(code):\n    url = f\"https://auth.eagleeyenetworks.com/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{hostName}:{port}\"\n    try:\n        response = requests.post(url, auth=(clientId, clientSecret))\n        response.raise_for_status()  # Raises stored HTTPError, if one occurred\n        return json.loads(response.text)\n    except requests.RequestException as e:\n        print(f\"Error getting tokens: {e}\")\n        return None",
        "detail": "localmediatest.localmediatest",
        "documentation": {}
    },
    {
        "label": "HTML_TEMPLATE",
        "kind": 5,
        "importPath": "localmediatest.localmediatest",
        "description": "localmediatest.localmediatest",
        "peekOfCode": "HTML_TEMPLATE = \"\"\"\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Video Player</title>\n    <link rel=\"shortcut icon\" href=\"https://auth.eagleeyenetworks.com/images/favicon.ico\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.min.css\">\n    <script src=\"https://cdn.jsdelivr.net/npm/hls.js@1\"></script>\n    <style>\n        body { margin: 40px; }",
        "detail": "localmediatest.localmediatest",
        "documentation": {}
    },
    {
        "label": "logout",
        "kind": 2,
        "importPath": "logout.logout",
        "description": "logout.logout",
        "peekOfCode": "def logout():\n    # Get the token from the browser cookie access_token\n    token = request.cookies.get('access_token')\n    if not token:\n        return \"No access token found in cookies\", 400\n    # Define the token, token_type_hint, and client credentials\n    token_type_hint = \"access_token\"\n    client_id = \"\" ## enter your client ID\n    client_secret = \"\" ## enter your client secret\n    # Create the Authorization header with client credentials",
        "detail": "logout.logout",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 5,
        "importPath": "logout.logout",
        "description": "logout.logout",
        "peekOfCode": "app = Flask(__name__)\n@app.route('/', methods=['GET'])\ndef logout():\n    # Get the token from the browser cookie access_token\n    token = request.cookies.get('access_token')\n    if not token:\n        return \"No access token found in cookies\", 400\n    # Define the token, token_type_hint, and client credentials\n    token_type_hint = \"access_token\"\n    client_id = \"\" ## enter your client ID",
        "detail": "logout.logout",
        "documentation": {}
    },
    {
        "label": "make_request",
        "kind": 2,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "def make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        return None\n# OAuth and User Details Handling\ndef get_tokens(code):\n    url = f\"{AUTH_URL}/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{HOST_NAME}:{PORT}\"\n    return make_request(\"POST\", url, auth=(CLIENT_ID, CLIENT_SECRET))",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "get_tokens",
        "kind": 2,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "def get_tokens(code):\n    url = f\"{AUTH_URL}/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{HOST_NAME}:{PORT}\"\n    return make_request(\"POST\", url, auth=(CLIENT_ID, CLIENT_SECRET))\ndef get_base_url(accessToken):\n    url = f\"{BASE_URL}/api/v3.0/clientSettings\"\n    headers = {\"accept\": \"application/json\", \"authorization\": f\"Bearer {accessToken}\"}\n    settings = make_request(\"GET\", url, headers=headers)\n    return settings.get('httpsBaseUrl', {}).get('hostname') if settings else None\ndef get_user_details(accessToken, base_url):\n    url = f\"https://{base_url}/api/v3.0/users/self\"",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "get_base_url",
        "kind": 2,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "def get_base_url(accessToken):\n    url = f\"{BASE_URL}/api/v3.0/clientSettings\"\n    headers = {\"accept\": \"application/json\", \"authorization\": f\"Bearer {accessToken}\"}\n    settings = make_request(\"GET\", url, headers=headers)\n    return settings.get('httpsBaseUrl', {}).get('hostname') if settings else None\ndef get_user_details(accessToken, base_url):\n    url = f\"https://{base_url}/api/v3.0/users/self\"\n    headers = {\"accept\": \"application/json\", \"authorization\": f\"Bearer {accessToken}\"}\n    return make_request(\"GET\", url, headers=headers)\n# Route Handlers",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "get_user_details",
        "kind": 2,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "def get_user_details(accessToken, base_url):\n    url = f\"https://{base_url}/api/v3.0/users/self\"\n    headers = {\"accept\": \"application/json\", \"authorization\": f\"Bearer {accessToken}\"}\n    return make_request(\"GET\", url, headers=headers)\n# Route Handlers\n@app.route('/')\ndef index():\n    code = request.args.get('code')\n    if code:\n        oauthObject = get_tokens(code)",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "index",
        "kind": 2,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "def index():\n    code = request.args.get('code')\n    if code:\n        oauthObject = get_tokens(code)\n        accessToken = oauthObject.get('access_token') if oauthObject else None\n        base_url = get_base_url(accessToken) if accessToken else None\n        userDetails = get_user_details(accessToken, base_url) if base_url else None\n        userId = userDetails.get('email', 'unknown') if userDetails else 'unknown'\n        refresh_token = oauthObject.get('refresh_token', 'unknown') if oauthObject else 'unknown'\n        current_folder = os.path.dirname(os.path.abspath(__file__))",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 5,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "app = Flask(__name__)\n#### please note this is an example script ans should not be used in production ####\n#### If you are using this script in production, please make sure to use a secure method to store the client secret and client id ###\n#### This script is for educational purposes only ####\n#### not recommended for production use, please use a production server like wsgi ####\n# Constants\nHOST_NAME = \"127.0.0.1\"\nPORT = 3333\nCLIENT_ID = \"\" #### Please enter your client id here ####\nCLIENT_SECRET =  \"\" #### Please enter your client secret here ####",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "HOST_NAME",
        "kind": 5,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "HOST_NAME = \"127.0.0.1\"\nPORT = 3333\nCLIENT_ID = \"\" #### Please enter your client id here ####\nCLIENT_SECRET =  \"\" #### Please enter your client secret here ####\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "PORT",
        "kind": 5,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "PORT = 3333\nCLIENT_ID = \"\" #### Please enter your client id here ####\nCLIENT_SECRET =  \"\" #### Please enter your client secret here ####\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "CLIENT_ID",
        "kind": 5,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "CLIENT_ID = \"\" #### Please enter your client id here ####\nCLIENT_SECRET =  \"\" #### Please enter your client secret here ####\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "CLIENT_SECRET",
        "kind": 5,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "CLIENT_SECRET =  \"\" #### Please enter your client secret here ####\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        return None",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "AUTH_URL",
        "kind": 5,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "AUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        return None\n# OAuth and User Details Handling",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "BASE_URL",
        "kind": 5,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "BASE_URL = \"https://api.eagleeyenetworks.com\"\n# Utility Functions\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        return None\n# OAuth and User Details Handling\ndef get_tokens(code):",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "LOGIN_TEMPLATE",
        "kind": 5,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "LOGIN_TEMPLATE = '''\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Login Success</title>\n    <link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" rel=\"stylesheet\">\n</head>\n<body>",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "LOGIN_LINK_TEMPLATE",
        "kind": 5,
        "importPath": "m2m_login.genRefTokenCodeSample",
        "description": "m2m_login.genRefTokenCodeSample",
        "peekOfCode": "LOGIN_LINK_TEMPLATE = '''\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Login</title>\n    <link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" rel=\"stylesheet\">\n</head>\n<body>",
        "detail": "m2m_login.genRefTokenCodeSample",
        "documentation": {}
    },
    {
        "label": "get_filepath",
        "kind": 2,
        "importPath": "m2m_login.generate_access_token",
        "description": "m2m_login.generate_access_token",
        "peekOfCode": "def get_filepath(filename):\n    script_directory = os.path.dirname(os.path.abspath(__file__))\n    return os.path.join(script_directory, filename)\n# Function to write JSON data to a file\ndef write_json(filename, data):\n    with open(get_filepath(filename), 'w') as f:\n        json.dump(data, f, indent=4)\n# Function to make a POST request\ndef make_request(url, headers, data):\n    try:",
        "detail": "m2m_login.generate_access_token",
        "documentation": {}
    },
    {
        "label": "write_json",
        "kind": 2,
        "importPath": "m2m_login.generate_access_token",
        "description": "m2m_login.generate_access_token",
        "peekOfCode": "def write_json(filename, data):\n    with open(get_filepath(filename), 'w') as f:\n        json.dump(data, f, indent=4)\n# Function to make a POST request\ndef make_request(url, headers, data):\n    try:\n        response = requests.post(url, headers=headers, data=data)\n        response.raise_for_status()\n        return response.json()\n    except requests.exceptions.RequestException as e:",
        "detail": "m2m_login.generate_access_token",
        "documentation": {}
    },
    {
        "label": "make_request",
        "kind": 2,
        "importPath": "m2m_login.generate_access_token",
        "description": "m2m_login.generate_access_token",
        "peekOfCode": "def make_request(url, headers, data):\n    try:\n        response = requests.post(url, headers=headers, data=data)\n        response.raise_for_status()\n        return response.json()\n    except requests.exceptions.RequestException as e:\n        print(f\"Error: {e}\")\n        if response:\n            print(f\"Status Code: {response.status_code}, Reason: {response.reason}\")\n        raise",
        "detail": "m2m_login.generate_access_token",
        "documentation": {}
    },
    {
        "label": "get_required_data",
        "kind": 2,
        "importPath": "m2m_login.generate_access_token",
        "description": "m2m_login.generate_access_token",
        "peekOfCode": "def get_required_data():\n    required_data = {}\n    required_keys = ['refresh_token','cc_base64']\n    for key in required_keys:\n        required_data[key] = input(f\"Enter the value for {key}: \")\n    if not all(required_data.values()):\n        raise ValueError(\"All required data was not provided\")\n    return required_data\ndef main():\n    required_data = get_required_data()",
        "detail": "m2m_login.generate_access_token",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "m2m_login.generate_access_token",
        "description": "m2m_login.generate_access_token",
        "peekOfCode": "def main():\n    required_data = get_required_data()\n    headers = {\n        \"Accept\": \"application/json\",\n        \"Authorization\": f\"Basic {required_data['cc_base64']}\"\n    }\n    data = {\n        \"grant_type\": \"refresh_token\",\n        \"refresh_token\": quote(required_data['refresh_token'])\n    }",
        "detail": "m2m_login.generate_access_token",
        "documentation": {}
    },
    {
        "label": "URL",
        "kind": 5,
        "importPath": "m2m_login.generate_access_token",
        "description": "m2m_login.generate_access_token",
        "peekOfCode": "URL = \"https://auth.eagleeyenetworks.com/oauth2/token\"\n# Function to get the absolute file path\ndef get_filepath(filename):\n    script_directory = os.path.dirname(os.path.abspath(__file__))\n    return os.path.join(script_directory, filename)\n# Function to write JSON data to a file\ndef write_json(filename, data):\n    with open(get_filepath(filename), 'w') as f:\n        json.dump(data, f, indent=4)\n# Function to make a POST request",
        "detail": "m2m_login.generate_access_token",
        "documentation": {}
    },
    {
        "label": "make_request",
        "kind": 2,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "def make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        exit(1)\n    return response\ndef clientsettings():\n    url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "clientsettings",
        "kind": 2,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "def clientsettings():\n    url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\n    response = make_request(url)\n    return response.json()[\"httpsBaseUrl\"][\"hostname\"]\nbaseUrl = clientsettings()\ndef get_session_response(base_url):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"\n    return make_request(session_url)\nsession_response = get_session_response(baseUrl)\ndef download_mp4(mp4_url, file_name):",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "get_session_response",
        "kind": 2,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "def get_session_response(base_url):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"\n    return make_request(session_url)\nsession_response = get_session_response(baseUrl)\ndef download_mp4(mp4_url, file_name):\n    try:\n        mp4_response = session.get(mp4_url, stream=True)\n        mp4_response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        total_size = int(mp4_response.headers.get('content-length', 0))",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "download_mp4",
        "kind": 2,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "def download_mp4(mp4_url, file_name):\n    try:\n        mp4_response = session.get(mp4_url, stream=True)\n        mp4_response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        total_size = int(mp4_response.headers.get('content-length', 0))\n        with open(file_path, \"wb\") as mp4_file, tqdm(\n            desc=file_name,\n            total=total_size,\n            unit='B',",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "download_all_mp4_urls",
        "kind": 2,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "def download_all_mp4_urls(results):\n    for result in results:\n        mp4_url = result[\"mp4Url\"]\n        startTimestamp = result[\"startTimestamp\"].replace(\"%3A\", \":\")\n        endTimestamp = result[\"endTimestamp\"].replace(\"%3A\", \":\")\n        file_name = f\"{deviceId}_{startTimestamp}_{endTimestamp}_output.mp4\"\n        download_mp4(mp4_url, file_name)\ndef main():\n    url = f\"https://{baseUrl}/api/v3.0/media?deviceId={deviceId}&type=main&mediaType=video&startTimestamp__gte={startTimestamp}&endTimestamp__lte={endTimestamp}&coalesce=true&include=mp4Url&pageSize=100\"\n    response = make_request(url)",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "def main():\n    url = f\"https://{baseUrl}/api/v3.0/media?deviceId={deviceId}&type=main&mediaType=video&startTimestamp__gte={startTimestamp}&endTimestamp__lte={endTimestamp}&coalesce=true&include=mp4Url&pageSize=100\"\n    response = make_request(url)\n    if response.status_code == 200:\n        data = json.loads(response.text)\n        results = data[\"results\"]\n        download_all_mp4_urls(results)\n    else:\n        print(\"Failed to get MP4 URLs from the API\")\n        print(response.status_code)",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT0",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "TIMESTAMP_FORMAT0 = \"%3A\"\nTIMESTAMP_FORMAT1 = \"%2B\"\nOUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        file_contents = json.load(user_file)\n        access_token = file_contents[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT1",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "TIMESTAMP_FORMAT1 = \"%2B\"\nOUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        file_contents = json.load(user_file)\n        access_token = file_contents[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")\n    exit(1)",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "OUTPUT_FOLDER",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "OUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        file_contents = json.load(user_file)\n        access_token = file_contents[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")\n    exit(1)\n# Headers",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "headers",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "headers = {\n    \"accept\": \"application/json\",\n    \"authorization\": f\"Bearer {access_token}\",\n}\n# Session\nsession = requests.Session()\nsession.headers.update(headers)\n# Ensure the output folder exists\nif not os.path.exists(OUTPUT_FOLDER):\n    os.makedirs(OUTPUT_FOLDER)",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "session",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "session = requests.Session()\nsession.headers.update(headers)\n# Ensure the output folder exists\nif not os.path.exists(OUTPUT_FOLDER):\n    os.makedirs(OUTPUT_FOLDER)\n# Device ID and timestamps\ndeviceId = \"1001e90f\"\nunencoded_startTimestamp = \"2023-11-05T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-07T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "deviceId",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "deviceId = \"1001e90f\"\nunencoded_startTimestamp = \"2023-11-05T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-07T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "unencoded_startTimestamp",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "unencoded_startTimestamp = \"2023-11-05T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-07T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "unencoded_endTimestamp",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "unencoded_endTimestamp = \"2023-11-07T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        exit(1)",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "startTimestamp",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "startTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        exit(1)\n    return response",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "endTimestamp",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "endTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        exit(1)\n    return response\ndef clientsettings():",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "baseUrl",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "baseUrl = clientsettings()\ndef get_session_response(base_url):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"\n    return make_request(session_url)\nsession_response = get_session_response(baseUrl)\ndef download_mp4(mp4_url, file_name):\n    try:\n        mp4_response = session.get(mp4_url, stream=True)\n        mp4_response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "session_response",
        "kind": 5,
        "importPath": "mp4_downloader.api3_mp4_dl",
        "description": "mp4_downloader.api3_mp4_dl",
        "peekOfCode": "session_response = get_session_response(baseUrl)\ndef download_mp4(mp4_url, file_name):\n    try:\n        mp4_response = session.get(mp4_url, stream=True)\n        mp4_response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        total_size = int(mp4_response.headers.get('content-length', 0))\n        with open(file_path, \"wb\") as mp4_file, tqdm(\n            desc=file_name,\n            total=total_size,",
        "detail": "mp4_downloader.api3_mp4_dl",
        "documentation": {}
    },
    {
        "label": "make_request",
        "kind": 2,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "def make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        print(f\"Debug - Failed to make request. Response: {response.text}\")  # Debug\n        return None\ndef getTokens(code):\n    url = f\"{AUTH_URL}/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{HOST_NAME}:{PORT}\"\n    oauthObject = make_request(\"POST\", url, auth=(CLIENT_ID, CLIENT_SECRET))",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "getTokens",
        "kind": 2,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "def getTokens(code):\n    url = f\"{AUTH_URL}/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{HOST_NAME}:{PORT}\"\n    oauthObject = make_request(\"POST\", url, auth=(CLIENT_ID, CLIENT_SECRET))\n    if oauthObject:\n        accessToken = oauthObject.get('access_token', None)\n        print(f\"Debug - Access Token: {accessToken}\")  # Debug\n        return accessToken, oauthObject\n    return None, None\ndef get_base_url(accessToken):\n    url = f\"{BASE_URL}/api/v3.0/clientSettings\"",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "get_base_url",
        "kind": 2,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "def get_base_url(accessToken):\n    url = f\"{BASE_URL}/api/v3.0/clientSettings\"\n    headers = {\n        \"accept\": \"application/json\",\n        \"authorization\": f\"Bearer {accessToken}\"\n    }\n    settings = make_request(\"GET\", url, headers=headers)\n    if settings:\n        return settings.get('httpsBaseUrl', {}).get('hostname')\n    return None",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "get_user_details",
        "kind": 2,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "def get_user_details(accessToken):\n    if not accessToken:\n        print(\"Debug - Access Token is None\")  # Debug\n        return {}\n    base_url = get_base_url(accessToken)\n    if not base_url:\n        print(\"Debug - Failed to get base URL\")\n        return {}\n    url = f\"https://{base_url}/api/v3.0/users/self\"\n    headers = {\"accept\": \"application/json\", \"authorization\": f\"Bearer {accessToken}\"}",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "index",
        "kind": 2,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "def index():\n    code = request.args.get('code')\n    if code:\n        accessToken, oauthObject = getTokens(code)\n        if accessToken is None:\n            return \"Failed to log in.\"\n        userDetails = get_user_details(accessToken)\n        userId = userDetails.get('id', 'unknown')\n        with open('access_response.json', 'w') as f:\n            json.dump(oauthObject, f)",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 5,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "app = Flask(__name__)\nHOST_NAME = \"127.0.0.1\"\nPORT = 3333\nCLIENT_ID = \"\"\nCLIENT_SECRET = \"\"\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "HOST_NAME",
        "kind": 5,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "HOST_NAME = \"127.0.0.1\"\nPORT = 3333\nCLIENT_ID = \"\"\nCLIENT_SECRET = \"\"\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "PORT",
        "kind": 5,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "PORT = 3333\nCLIENT_ID = \"\"\nCLIENT_SECRET = \"\"\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "CLIENT_ID",
        "kind": 5,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "CLIENT_ID = \"\"\nCLIENT_SECRET = \"\"\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        print(f\"Debug - Failed to make request. Response: {response.text}\")  # Debug",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "CLIENT_SECRET",
        "kind": 5,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "CLIENT_SECRET = \"\"\nAUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        print(f\"Debug - Failed to make request. Response: {response.text}\")  # Debug\n        return None",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "AUTH_URL",
        "kind": 5,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "AUTH_URL = \"https://auth.eagleeyenetworks.com\"\nBASE_URL = \"https://api.eagleeyenetworks.com\"\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        print(f\"Debug - Failed to make request. Response: {response.text}\")  # Debug\n        return None\ndef getTokens(code):",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "BASE_URL",
        "kind": 5,
        "importPath": "mp4_downloader.apiv3_vmslocal",
        "description": "mp4_downloader.apiv3_vmslocal",
        "peekOfCode": "BASE_URL = \"https://api.eagleeyenetworks.com\"\ndef make_request(method, url, headers=None, auth=None):\n    response = requests.request(method, url, headers=headers, auth=auth)\n    if response.status_code == 200:\n        return json.loads(response.text)\n    else:\n        print(f\"Debug - Failed to make request. Response: {response.text}\")  # Debug\n        return None\ndef getTokens(code):\n    url = f\"{AUTH_URL}/oauth2/token?grant_type=authorization_code&scope=vms.all&code={code}&redirect_uri=http://{HOST_NAME}:{PORT}\"",
        "detail": "mp4_downloader.apiv3_vmslocal",
        "documentation": {}
    },
    {
        "label": "download_mp4",
        "kind": 2,
        "importPath": "mp4_downloader.mp4_dl_all_mp4dl",
        "description": "mp4_downloader.mp4_dl_all_mp4dl",
        "peekOfCode": "def download_mp4(mp4_url, file_name):\n    try:\n        mp4_response = session.get(mp4_url)\n        mp4_response.raise_for_status()\n        file_path = os.path.join(output_folder, file_name)\n        with open(file_path, \"wb\") as mp4_file:\n            mp4_file.write(mp4_response.content)\n        print(f\"MP4 file saved as {file_path}\")\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to download MP4 file from {mp4_url}: {e}\")",
        "detail": "mp4_downloader.mp4_dl_all_mp4dl",
        "documentation": {}
    },
    {
        "label": "download_all_mp4_urls",
        "kind": 2,
        "importPath": "mp4_downloader.mp4_dl_all_mp4dl",
        "description": "mp4_downloader.mp4_dl_all_mp4dl",
        "peekOfCode": "def download_all_mp4_urls(results):\n    for result in results:\n        mp4_url = result[\"mp4Url\"]\n        startTimestamp = result[\"startTimestamp\"].replace(\"%3A\", \":\")\n        endTimestamp = result[\"startTimestamp\"].replace(\"%3A\", \":\")\n        file_name = f\"{deviceId}_{startTimestamp}_{endTimestamp}_output.mp4\"\n        download_mp4(mp4_url, file_name)\ndef main():\n    url = f\"https://{baseUrl}/api/v3.0/media?deviceId={deviceId}&type=main&mediaType=video&startTimestamp__gte={startTimestamp}&endTimestamp__lte={endTimestamp}&coalesce=true&include=mp4Url&pageSize=100\"\n    headers = {",
        "detail": "mp4_downloader.mp4_dl_all_mp4dl",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "mp4_downloader.mp4_dl_all_mp4dl",
        "description": "mp4_downloader.mp4_dl_all_mp4dl",
        "peekOfCode": "def main():\n    url = f\"https://{baseUrl}/api/v3.0/media?deviceId={deviceId}&type=main&mediaType=video&startTimestamp__gte={startTimestamp}&endTimestamp__lte={endTimestamp}&coalesce=true&include=mp4Url&pageSize=100\"\n    headers = {\n        \"accept\": \"application/json\",\n        \"authorization\": \"Bearer \" + access_token\n    }\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        data = json.loads(response.text)\n        results = data[\"results\"]",
        "detail": "mp4_downloader.mp4_dl_all_mp4dl",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT0",
        "kind": 5,
        "importPath": "mp4_downloader.mp4_dl_all_mp4dl",
        "description": "mp4_downloader.mp4_dl_all_mp4dl",
        "peekOfCode": "TIMESTAMP_FORMAT0 = \"%3A\"\nTIMESTAMP_FORMAT1 = \"%2B\"\n# Define the folder path where you want to save the MP4 files\noutput_folder = \"mp4dl\"\n# Ensure the output folder exists; create it if it doesn't\nif not os.path.exists(output_folder):\n    os.makedirs(output_folder)\n# Load access token from the file\nwith open('access_response.json') as user_file:\n    file_contents = json.load(user_file)",
        "detail": "mp4_downloader.mp4_dl_all_mp4dl",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT1",
        "kind": 5,
        "importPath": "mp4_downloader.mp4_dl_all_mp4dl",
        "description": "mp4_downloader.mp4_dl_all_mp4dl",
        "peekOfCode": "TIMESTAMP_FORMAT1 = \"%2B\"\n# Define the folder path where you want to save the MP4 files\noutput_folder = \"mp4dl\"\n# Ensure the output folder exists; create it if it doesn't\nif not os.path.exists(output_folder):\n    os.makedirs(output_folder)\n# Load access token from the file\nwith open('access_response.json') as user_file:\n    file_contents = json.load(user_file)\n    access_token = file_contents[\"access_token\"]",
        "detail": "mp4_downloader.mp4_dl_all_mp4dl",
        "documentation": {}
    },
    {
        "label": "output_folder",
        "kind": 5,
        "importPath": "mp4_downloader.mp4_dl_all_mp4dl",
        "description": "mp4_downloader.mp4_dl_all_mp4dl",
        "peekOfCode": "output_folder = \"mp4dl\"\n# Ensure the output folder exists; create it if it doesn't\nif not os.path.exists(output_folder):\n    os.makedirs(output_folder)\n# Load access token from the file\nwith open('access_response.json') as user_file:\n    file_contents = json.load(user_file)\n    access_token = file_contents[\"access_token\"]\n    token_type = file_contents[\"token_type\"]\n    deviceId = \"\"",
        "detail": "mp4_downloader.mp4_dl_all_mp4dl",
        "documentation": {}
    },
    {
        "label": "session_url",
        "kind": 5,
        "importPath": "mp4_downloader.mp4_dl_all_mp4dl",
        "description": "mp4_downloader.mp4_dl_all_mp4dl",
        "peekOfCode": "session_url = f\"https://{mediaUrl}/media/session\"\nheaders = {\n    \"accept\": \"application/json\",\n    \"authorization\": \"Bearer \" + access_token\n}\nsession_response = requests.get(session_url, headers=headers, cookies={'credentials': 'include'})\nprint(\"session_response\", session_response)\nsession = requests.Session()\nsession.headers.update({\"accept\": \"application/json\", \"authorization\": \"Bearer \" + access_token})\ndef download_mp4(mp4_url, file_name):",
        "detail": "mp4_downloader.mp4_dl_all_mp4dl",
        "documentation": {}
    },
    {
        "label": "headers",
        "kind": 5,
        "importPath": "mp4_downloader.mp4_dl_all_mp4dl",
        "description": "mp4_downloader.mp4_dl_all_mp4dl",
        "peekOfCode": "headers = {\n    \"accept\": \"application/json\",\n    \"authorization\": \"Bearer \" + access_token\n}\nsession_response = requests.get(session_url, headers=headers, cookies={'credentials': 'include'})\nprint(\"session_response\", session_response)\nsession = requests.Session()\nsession.headers.update({\"accept\": \"application/json\", \"authorization\": \"Bearer \" + access_token})\ndef download_mp4(mp4_url, file_name):\n    try:",
        "detail": "mp4_downloader.mp4_dl_all_mp4dl",
        "documentation": {}
    },
    {
        "label": "session_response",
        "kind": 5,
        "importPath": "mp4_downloader.mp4_dl_all_mp4dl",
        "description": "mp4_downloader.mp4_dl_all_mp4dl",
        "peekOfCode": "session_response = requests.get(session_url, headers=headers, cookies={'credentials': 'include'})\nprint(\"session_response\", session_response)\nsession = requests.Session()\nsession.headers.update({\"accept\": \"application/json\", \"authorization\": \"Bearer \" + access_token})\ndef download_mp4(mp4_url, file_name):\n    try:\n        mp4_response = session.get(mp4_url)\n        mp4_response.raise_for_status()\n        file_path = os.path.join(output_folder, file_name)\n        with open(file_path, \"wb\") as mp4_file:",
        "detail": "mp4_downloader.mp4_dl_all_mp4dl",
        "documentation": {}
    },
    {
        "label": "session",
        "kind": 5,
        "importPath": "mp4_downloader.mp4_dl_all_mp4dl",
        "description": "mp4_downloader.mp4_dl_all_mp4dl",
        "peekOfCode": "session = requests.Session()\nsession.headers.update({\"accept\": \"application/json\", \"authorization\": \"Bearer \" + access_token})\ndef download_mp4(mp4_url, file_name):\n    try:\n        mp4_response = session.get(mp4_url)\n        mp4_response.raise_for_status()\n        file_path = os.path.join(output_folder, file_name)\n        with open(file_path, \"wb\") as mp4_file:\n            mp4_file.write(mp4_response.content)\n        print(f\"MP4 file saved as {file_path}\")",
        "detail": "mp4_downloader.mp4_dl_all_mp4dl",
        "documentation": {}
    },
    {
        "label": "clear_screen",
        "kind": 2,
        "importPath": "ptz_keyboard_controller.ptzKeyboardController",
        "description": "ptz_keyboard_controller.ptzKeyboardController",
        "peekOfCode": "def clear_screen():\n    # For Windows\n    if os.name == 'nt':\n        _ = os.system('cls')\n    # For Mac and Linux(here, os.name is 'posix')\n    else:\n        _ = os.system('clear')\n# Clear the screen at the start of the program.\nclear_screen()\nprint(\"PTZ Keyboard Control, checking for cameras...\")",
        "detail": "ptz_keyboard_controller.ptzKeyboardController",
        "documentation": {}
    },
    {
        "label": "clientsettings",
        "kind": 2,
        "importPath": "ptz_keyboard_controller.ptzKeyboardController",
        "description": "ptz_keyboard_controller.ptzKeyboardController",
        "peekOfCode": "def clientsettings():\n    with open('access_response.json') as user_file:\n        file_contents = json.load(user_file)\n        access_token = file_contents[\"access_token\"]\n        token_type = file_contents[\"token_type\"]\n        url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\n        headers = {\"accept\": \"application/json\",\n                    \"authorization\": token_type + access_token}\n        response = requests.get(url, headers=headers)\n        vmshostname = response.json()[\"httpsBaseUrl\"][\"hostname\"]",
        "detail": "ptz_keyboard_controller.ptzKeyboardController",
        "documentation": {}
    },
    {
        "label": "fetch_cameras",
        "kind": 2,
        "importPath": "ptz_keyboard_controller.ptzKeyboardController",
        "description": "ptz_keyboard_controller.ptzKeyboardController",
        "peekOfCode": "def fetch_cameras(token_type, access_token, vmshostname):\n    url = f\"https://{vmshostname}/api/v3.0/cameras?include=capabilities&pageSize=100\"\n    headers = {\"accept\": \"application/json\",\n                \"authorization\": f\"{token_type} {access_token}\"}\n    response = requests.get(url, headers=headers)\n    if response.status_code == 200:\n        cameras = response.json().get(\"results\", [])\n        ptz_cameras = [cam for cam in cameras if cam[\"capabilities\"][\"ptz\"][\"capable\"] and \n                        cam[\"capabilities\"][\"ptz\"][\"panTilt\"] and \n                        cam[\"capabilities\"][\"ptz\"][\"zoom\"] and ",
        "detail": "ptz_keyboard_controller.ptzKeyboardController",
        "documentation": {}
    },
    {
        "label": "select_camera",
        "kind": 2,
        "importPath": "ptz_keyboard_controller.ptzKeyboardController",
        "description": "ptz_keyboard_controller.ptzKeyboardController",
        "peekOfCode": "def select_camera(cameras):\n    clear_screen()\n    print(\"Select a camera for PTZ control:\")\n    for i, cam in enumerate(cameras, start=1):\n        print(f\"{i}. {cam['name']}\")\n    choice = int(input(\"Enter the number of the camera: \")) - 1\n    clear_screen()\n    print(\"PTZ Keyboard Control\")\n    print(\"Control the camera with arrow keys for direction, Page Up for zoom in, and Page Down for zoom out.\")\n    return cameras[choice][\"id\"]",
        "detail": "ptz_keyboard_controller.ptzKeyboardController",
        "documentation": {}
    },
    {
        "label": "control_camera",
        "kind": 2,
        "importPath": "ptz_keyboard_controller.ptzKeyboardController",
        "description": "ptz_keyboard_controller.ptzKeyboardController",
        "peekOfCode": "def control_camera(camid, token_type, access_token, vmshostname):\n    global current_direction, control_thread_running\n    control_thread_running = True\n    while control_thread_running:\n        if current_direction:\n            url = f\"https://{vmshostname}/api/v3.0/cameras/{camid}/ptz/position\"\n            payload = {\n                \"direction\": [current_direction],\n                \"moveType\": \"direction\",\n                \"stepSize\": \"medium\"",
        "detail": "ptz_keyboard_controller.ptzKeyboardController",
        "documentation": {}
    },
    {
        "label": "on_press",
        "kind": 2,
        "importPath": "ptz_keyboard_controller.ptzKeyboardController",
        "description": "ptz_keyboard_controller.ptzKeyboardController",
        "peekOfCode": "def on_press(key):\n    global current_direction, control_thread, control_thread_running\n    key_id = getattr(key, 'name', getattr(key, 'char', None))\n    if key_id in ['left', 'right', 'up', 'down', 'page_up', 'page_down']:\n        current_direction = key_id\n# Key release event handler \ndef on_release(key):\n    global current_direction\n    key_id = getattr(key, 'name', getattr(key, 'char', None))\n    if key_id == current_direction:",
        "detail": "ptz_keyboard_controller.ptzKeyboardController",
        "documentation": {}
    },
    {
        "label": "on_release",
        "kind": 2,
        "importPath": "ptz_keyboard_controller.ptzKeyboardController",
        "description": "ptz_keyboard_controller.ptzKeyboardController",
        "peekOfCode": "def on_release(key):\n    global current_direction\n    key_id = getattr(key, 'name', getattr(key, 'char', None))\n    if key_id == current_direction:\n        current_direction = None\n# Main function\ndef main():\n    access_token, token_type, vmshostname = clientsettings()\n    ptz_cameras = fetch_cameras(token_type, access_token, vmshostname)\n    if ptz_cameras:",
        "detail": "ptz_keyboard_controller.ptzKeyboardController",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "ptz_keyboard_controller.ptzKeyboardController",
        "description": "ptz_keyboard_controller.ptzKeyboardController",
        "peekOfCode": "def main():\n    access_token, token_type, vmshostname = clientsettings()\n    ptz_cameras = fetch_cameras(token_type, access_token, vmshostname)\n    if ptz_cameras:\n        selected_cam_id = select_camera(ptz_cameras)\n        control_thread = threading.Thread(target=control_camera, args=(selected_cam_id, token_type, access_token, vmshostname))\n        control_thread.start()\n        with keyboard.Listener(on_press=on_press, on_release=on_release, suppress=True) as _listener:\n            _listener.join()\n        control_thread_running = False",
        "detail": "ptz_keyboard_controller.ptzKeyboardController",
        "documentation": {}
    },
    {
        "label": "current_direction",
        "kind": 5,
        "importPath": "ptz_keyboard_controller.ptzKeyboardController",
        "description": "ptz_keyboard_controller.ptzKeyboardController",
        "peekOfCode": "current_direction = None\ncontrol_thread_running = False\ncontrol_thread = None\ndef clear_screen():\n    # For Windows\n    if os.name == 'nt':\n        _ = os.system('cls')\n    # For Mac and Linux(here, os.name is 'posix')\n    else:\n        _ = os.system('clear')",
        "detail": "ptz_keyboard_controller.ptzKeyboardController",
        "documentation": {}
    },
    {
        "label": "control_thread_running",
        "kind": 5,
        "importPath": "ptz_keyboard_controller.ptzKeyboardController",
        "description": "ptz_keyboard_controller.ptzKeyboardController",
        "peekOfCode": "control_thread_running = False\ncontrol_thread = None\ndef clear_screen():\n    # For Windows\n    if os.name == 'nt':\n        _ = os.system('cls')\n    # For Mac and Linux(here, os.name is 'posix')\n    else:\n        _ = os.system('clear')\n# Clear the screen at the start of the program.",
        "detail": "ptz_keyboard_controller.ptzKeyboardController",
        "documentation": {}
    },
    {
        "label": "control_thread",
        "kind": 5,
        "importPath": "ptz_keyboard_controller.ptzKeyboardController",
        "description": "ptz_keyboard_controller.ptzKeyboardController",
        "peekOfCode": "control_thread = None\ndef clear_screen():\n    # For Windows\n    if os.name == 'nt':\n        _ = os.system('cls')\n    # For Mac and Linux(here, os.name is 'posix')\n    else:\n        _ = os.system('clear')\n# Clear the screen at the start of the program.\nclear_screen()",
        "detail": "ptz_keyboard_controller.ptzKeyboardController",
        "documentation": {}
    },
    {
        "label": "make_request",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "def make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling\n    return response\ndef get_session_response(base_url):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "get_session_response",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "def get_session_response(base_url):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"\n    print(\"/media/session requested\")\n    return make_request(session_url)\ndef clientsettings():\n    url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\n    try:\n        return make_request(url).json()[\"httpsBaseUrl\"][\"hostname\"]\n    except (json.JSONDecodeError, KeyError, requests.exceptions.RequestException) as e:\n        logging.error(f\"Failed to get client settings: {e}\")",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "clientsettings",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "def clientsettings():\n    url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\n    try:\n        return make_request(url).json()[\"httpsBaseUrl\"][\"hostname\"]\n    except (json.JSONDecodeError, KeyError, requests.exceptions.RequestException) as e:\n        logging.error(f\"Failed to get client settings: {e}\")\n        raise\nbase_url = clientsettings()\n#media_url = base_url.replace(\"api\", \"media\")\nmedia_url = clientsettings()",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "download_image",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "def download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:\n            for chunk in response.iter_content(chunk_size=1024):\n                if chunk:\n                    image_file.write(chunk)",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "def main():\n    try:\n        # Get the session response\n        session_response = get_session_response(base_url)\n        # Handle the session response if needed\n        if session_response.status_code == 200:\n            print(\"Session response received successfully.\")\n            # Process the session response as needed\n        else:\n            print(\"Failed to get session response.\")",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT0",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "TIMESTAMP_FORMAT0 = \"%3A\"\nTIMESTAMP_FORMAT1 = \"%2B\"\nOUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        access_token = json.load(user_file)[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")\n    exit(1)",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT1",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "TIMESTAMP_FORMAT1 = \"%2B\"\nOUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        access_token = json.load(user_file)[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")\n    exit(1)\n# Headers",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "OUTPUT_FOLDER",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "OUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        access_token = json.load(user_file)[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")\n    exit(1)\n# Headers\nheaders = {",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "headers",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "headers = {\n    \"accept\": \"application/json\",\n    \"authorization\": f\"Bearer {access_token}\",\n}\n# Session\nsession = requests.Session()\nsession.headers.update(headers)\n# Ensure the output folder exists\nos.makedirs(OUTPUT_FOLDER, exist_ok=True)\n# Device ID and timestamps",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "session",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "session = requests.Session()\nsession.headers.update(headers)\n# Ensure the output folder exists\nos.makedirs(OUTPUT_FOLDER, exist_ok=True)\n# Device ID and timestamps\ndeviceId = \"\"\nunencoded_startTimestamp = \"2023-11-27T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "deviceId",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "deviceId = \"\"\nunencoded_startTimestamp = \"2023-11-27T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "unencoded_startTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "unencoded_startTimestamp = \"2023-11-27T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "unencoded_endTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "unencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "startTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "startTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling\n    return response",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "endTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "endTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling\n    return response\ndef get_session_response(base_url):",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "base_url",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "base_url = clientsettings()\n#media_url = base_url.replace(\"api\", \"media\")\nmedia_url = clientsettings()\ndef download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "#media_url",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "#media_url = base_url.replace(\"api\", \"media\")\nmedia_url = clientsettings()\ndef download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:\n            for chunk in response.iter_content(chunk_size=1024):",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "media_url",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage",
        "description": "recorded_image.ee_apiv3_recordedImage",
        "peekOfCode": "media_url = clientsettings()\ndef download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:\n            for chunk in response.iter_content(chunk_size=1024):\n                if chunk:",
        "detail": "recorded_image.ee_apiv3_recordedImage",
        "documentation": {}
    },
    {
        "label": "make_request",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "def make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling\n    return response\ndef get_session_response(base_url):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "get_session_response",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "def get_session_response(base_url):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"\n    print(\"/media/session requested\")\n    return make_request(session_url)\ndef clientsettings():\n    url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\n    try:\n        return make_request(url).json()[\"httpsBaseUrl\"][\"hostname\"]\n    except (json.JSONDecodeError, KeyError, requests.exceptions.RequestException) as e:\n        logging.error(f\"Failed to get client settings: {e}\")",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "clientsettings",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "def clientsettings():\n    url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\n    try:\n        return make_request(url).json()[\"httpsBaseUrl\"][\"hostname\"]\n    except (json.JSONDecodeError, KeyError, requests.exceptions.RequestException) as e:\n        logging.error(f\"Failed to get client settings: {e}\")\n        raise\nbase_url = clientsettings()\n#media_url = base_url.replace(\"api\", \"media\")\nmedia_url = clientsettings()",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "download_image",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "def download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:\n            for chunk in response.iter_content(chunk_size=1024):\n                if chunk:\n                    image_file.write(chunk)",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "def main():\n    try:\n        # Get the session response\n        session_response = get_session_response(base_url)\n        # Handle the session response if needed\n        if session_response.status_code == 200:\n            print(\"Session response received successfully.\")\n            # Process the session response as needed\n        else:\n            print(\"Failed to get session response.\")",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT0",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "TIMESTAMP_FORMAT0 = \"%3A\"\nTIMESTAMP_FORMAT1 = \"%2B\"\nOUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        access_token = json.load(user_file)[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")\n    exit(1)",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT1",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "TIMESTAMP_FORMAT1 = \"%2B\"\nOUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        access_token = json.load(user_file)[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")\n    exit(1)\n# Headers",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "OUTPUT_FOLDER",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "OUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        access_token = json.load(user_file)[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")\n    exit(1)\n# Headers\nheaders = {",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "headers",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "headers = {\n    \"accept\": \"application/json\",\n    \"authorization\": f\"Bearer {access_token}\",\n}\n# Session\nsession = requests.Session()\nsession.headers.update(headers)\n# Ensure the output folder exists\nos.makedirs(OUTPUT_FOLDER, exist_ok=True)\n# Device ID and timestamps",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "session",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "session = requests.Session()\nsession.headers.update(headers)\n# Ensure the output folder exists\nos.makedirs(OUTPUT_FOLDER, exist_ok=True)\n# Device ID and timestamps\ndeviceId = \"100f9f79\"\npageSize = 5000\nunencoded_startTimestamp = \"2023-11-27T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "deviceId",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "deviceId = \"100f9f79\"\npageSize = 5000\nunencoded_startTimestamp = \"2023-11-27T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "pageSize",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "pageSize = 5000\nunencoded_startTimestamp = \"2023-11-27T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "unencoded_startTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "unencoded_startTimestamp = \"2023-11-27T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "unencoded_endTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "unencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "startTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "startTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling\n    return response",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "endTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "endTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling\n    return response\ndef get_session_response(base_url):",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "base_url",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "base_url = clientsettings()\n#media_url = base_url.replace(\"api\", \"media\")\nmedia_url = clientsettings()\ndef download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "#media_url",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "#media_url = base_url.replace(\"api\", \"media\")\nmedia_url = clientsettings()\ndef download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:\n            for chunk in response.iter_content(chunk_size=1024):",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "media_url",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_main",
        "description": "recorded_image.ee_apiv3_recordedImage_main",
        "peekOfCode": "media_url = clientsettings()\ndef download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:\n            for chunk in response.iter_content(chunk_size=1024):\n                if chunk:",
        "detail": "recorded_image.ee_apiv3_recordedImage_main",
        "documentation": {}
    },
    {
        "label": "make_request",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "def make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling\n    return response\ndef get_session_response(base_url):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "get_session_response",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "def get_session_response(base_url):\n    session_url = f\"https://{base_url}/api/v3.0/media/session\"\n    print(\"/media/session requested\")\n    return make_request(session_url)\ndef clientsettings():\n    url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\n    try:\n        return make_request(url).json()[\"httpsBaseUrl\"][\"hostname\"]\n    except (json.JSONDecodeError, KeyError, requests.exceptions.RequestException) as e:\n        logging.error(f\"Failed to get client settings: {e}\")",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "clientsettings",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "def clientsettings():\n    url = \"https://api.eagleeyenetworks.com/api/v3.0/clientSettings\"\n    try:\n        return make_request(url).json()[\"httpsBaseUrl\"][\"hostname\"]\n    except (json.JSONDecodeError, KeyError, requests.exceptions.RequestException) as e:\n        logging.error(f\"Failed to get client settings: {e}\")\n        raise\nbase_url = clientsettings()\n#media_url = base_url.replace(\"api\", \"media\")\nmedia_url = clientsettings()",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "download_image",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "def download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:\n            for chunk in response.iter_content(chunk_size=1024):\n                if chunk:\n                    image_file.write(chunk)",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "def main():\n    try:\n        # Get the session response\n        session_response = get_session_response(base_url)\n        # Handle the session response if needed\n        if session_response.status_code == 200:\n            print(\"Session response received successfully.\")\n            # Process the session response as needed\n        else:\n            print(\"Failed to get session response.\")",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT0",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "TIMESTAMP_FORMAT0 = \"%3A\"\nTIMESTAMP_FORMAT1 = \"%2B\"\nOUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        access_token = json.load(user_file)[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")\n    exit(1)",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "TIMESTAMP_FORMAT1",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "TIMESTAMP_FORMAT1 = \"%2B\"\nOUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        access_token = json.load(user_file)[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")\n    exit(1)\n# Headers",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "OUTPUT_FOLDER",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "OUTPUT_FOLDER = \"mp4dl\"\n# Load access token\ntry:\n    with open('access_response.json') as user_file:\n        access_token = json.load(user_file)[\"access_token\"]\nexcept (IOError, KeyError) as e:\n    logging.error(f\"Failed to load access token from 'access_response.json': {e}\")\n    exit(1)\n# Headers\nheaders = {",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "headers",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "headers = {\n    \"accept\": \"application/json\",\n    \"authorization\": f\"Bearer {access_token}\",\n}\n# Session\nsession = requests.Session()\nsession.headers.update(headers)\n# Ensure the output folder exists\nos.makedirs(OUTPUT_FOLDER, exist_ok=True)\n# Device ID and timestamps",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "session",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "session = requests.Session()\nsession.headers.update(headers)\n# Ensure the output folder exists\nos.makedirs(OUTPUT_FOLDER, exist_ok=True)\n# Device ID and timestamps\ndeviceId = \"\"\npageSize = 5000\nunencoded_startTimestamp = \"2023-11-27T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "deviceId",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "deviceId = \"\"\npageSize = 5000\nunencoded_startTimestamp = \"2023-11-27T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "pageSize",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "pageSize = 5000\nunencoded_startTimestamp = \"2023-11-27T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "unencoded_startTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "unencoded_startTimestamp = \"2023-11-27T00:00:00.000+00:00\"\nunencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "unencoded_endTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "unencoded_endTimestamp = \"2023-11-30T23:59:00.000+00:00\"\nstartTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "startTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "startTimestamp = unencoded_startTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\nendTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling\n    return response",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "endTimestamp",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "endTimestamp = unencoded_endTimestamp.replace(\":\", TIMESTAMP_FORMAT0).replace(\"+\", TIMESTAMP_FORMAT1)\ndef make_request(url):\n    try:\n        response = session.get(url)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        logging.error(f\"Failed to make request to {url}: {e}\")\n        raise  # Re-raise the exception for better error handling\n    return response\ndef get_session_response(base_url):",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "base_url",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "base_url = clientsettings()\n#media_url = base_url.replace(\"api\", \"media\")\nmedia_url = clientsettings()\ndef download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "#media_url",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "#media_url = base_url.replace(\"api\", \"media\")\nmedia_url = clientsettings()\ndef download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:\n            for chunk in response.iter_content(chunk_size=1024):",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    },
    {
        "label": "media_url",
        "kind": 5,
        "importPath": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "description": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "peekOfCode": "media_url = clientsettings()\ndef download_image(url, file_name):\n    try:\n        print(f\"Downloading image from {url}\")\n        response = session.get(url, stream=True)\n        response.raise_for_status()\n        file_path = os.path.join(OUTPUT_FOLDER, file_name)\n        with open(file_path, \"wb\") as image_file:\n            for chunk in response.iter_content(chunk_size=1024):\n                if chunk:",
        "detail": "recorded_image.ee_apiv3_recordedImage_preview.py",
        "documentation": {}
    }
]